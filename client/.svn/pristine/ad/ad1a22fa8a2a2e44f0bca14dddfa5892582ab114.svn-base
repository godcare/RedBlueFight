{"version":3,"sources":["Game21Control.js"],"names":["MySpriteNumber","require","SoundManager","cc","Class","extends","Component","properties","SoundMGR","default","type","GameResultNode","Node","CountDownNode","PauseNode","RedBallParent","BlueBallParent","RedBottle","BlueBottle","RedBallPres","BlueBallPres","redScoreLabel","blueScoreLabel","redScore","blueScore","TotalSeconds","tmpTimer","redProgress","ProgressBar","blueProgress","GameStatus","redFailList","blueFailList","redSuccessList","blueSuccessList","rBaseIndex","rBallIndex","bBaseIndex","bBallIndex","rPendingName","bPendingName","isRedWaiting","isBlueWaiting","waitSeconds","rMoveFlag","bMoveFlag","moveStep","rMoveSpeed","bMoveSpeed","rStackNumber","bStackNumber","onLoad","director","getPhysicsManager","enabled","update","dt","progress","playOver","scheduleOnce","Global","GameData","CurrentWinner","active","x","find","onPanelClicked","event","customEventData","obj","getComponent","RigidBody","gravityScale","sa1","scaleTo","runAction","playVoice","sa2","checkThrowResult","bIndex","indexOf","i","length","sa","destroy","SpawnNewBall","push","AddScore","DestroyStack","SpawnBaseBall","start","startAnimation","onBallHit","selfName","otherName","splice","DestroyBall","addIndex","setNumber","playScore","playPop","rd","Math","floor","random","newObj","instantiate","parent","tmpX","setPosition","scale","Vec2","name","toString","position"],"mappings":"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","file":"Game21Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game21","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar MySpriteNumber = require(\"MySpriteNumber\");\r\nvar SoundManager = require(\"SoundManager\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedBallParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueBallParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedBottle:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueBottle:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedBallPres:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        BlueBallPres:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        redScoreLabel:\r\n        {\r\n            default: null,\r\n            type: MySpriteNumber,\r\n        },\r\n        blueScoreLabel:\r\n        {\r\n            default: null,\r\n            type: MySpriteNumber,\r\n        },\r\n\r\n        redScore: 0,\r\n        blueScore: 0,\r\n\r\n        TotalSeconds: 45,\r\n        tmpTimer: 0,\r\n        redProgress:\r\n        {\r\n            default: null,\r\n            type: cc.ProgressBar,\r\n        },\r\n        blueProgress:\r\n        {\r\n            default: null,\r\n            type: cc.ProgressBar,\r\n        },\r\n        GameStatus: 0,//0未开始，1开始了，2结束了\r\n        redFailList: [],\r\n        blueFailList: [],\r\n        redSuccessList: [],\r\n        blueSuccessList: [],\r\n        rBaseIndex: 0,\r\n        rBallIndex: 0,\r\n        bBaseIndex: 0,\r\n        bBallIndex: 0,\r\n        rPendingName: \"\",\r\n        bPendingName: \"\",\r\n        isRedWaiting: false,\r\n        isBlueWaiting: false,\r\n        waitSeconds: 3,\r\n        rMoveFlag: 1,\r\n        bMoveFlag: 1,\r\n        moveStep: 1,\r\n        rMoveSpeed: 1,\r\n        bMoveSpeed: 1,\r\n        rStackNumber: 0,//红色堆叠数量\r\n        bStackNumber: 0,\r\n        //-200 200, -587\r\n    },\r\n    onLoad() {\r\n        cc.director.getPhysicsManager().enabled = true;\r\n\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    update(dt) {\r\n        if (this.GameStatus == 1) {\r\n            //timer update\r\n            if (this.tmpTimer <= this.TotalSeconds) {\r\n                this.tmpTimer += dt;\r\n                this.redProgress.progress = (this.TotalSeconds - this.tmpTimer) / this.TotalSeconds;\r\n                this.blueProgress.progress = (this.TotalSeconds - this.tmpTimer) / this.TotalSeconds;\r\n            }\r\n            else {\r\n                this.GameStatus = 2;\r\n                this.SoundMGR.playOver();\r\n                if (this.redScore > this.blueScore) {\r\n                    this.scheduleOnce(function () {\r\n                        Global.GameData.CurrentWinner = 0;\r\n                        this.GameResultNode.active = true;\r\n                    }, 2);\r\n                }\r\n                else if (this.redScore < this.blueScore) {\r\n                    this.scheduleOnce(function () {\r\n                        Global.GameData.CurrentWinner = 1;\r\n                        this.GameResultNode.active = true;\r\n                    }, 2);\r\n                }\r\n                else {\r\n                    this.scheduleOnce(function () {\r\n                        Global.GameData.CurrentWinner = 2;\r\n                        this.GameResultNode.active = true;\r\n                    }, 2);\r\n                }\r\n            }\r\n\r\n            if (!this.isRedWaiting) {\r\n                this.RedBottle.x += dt * this.rMoveSpeed * this.rMoveFlag;\r\n                if (this.RedBottle.x >= 200) {\r\n                    this.RedBottle.x = 200;\r\n                    this.rMoveFlag *= -1;\r\n                }\r\n                else if (this.RedBottle.x <= -200) {\r\n                    this.RedBottle.x = -200;\r\n                    this.rMoveFlag *= -1;\r\n                }\r\n                cc.find(this.rPendingName, this.RedBallParent).x = this.RedBottle.x;\r\n            }\r\n\r\n            if (!this.isBlueWaiting) {\r\n                this.BlueBottle.x += dt * this.bMoveSpeed * this.bMoveFlag;\r\n                if (this.BlueBottle.x >= 200) {\r\n                    this.BlueBottle.x = 200;\r\n                    this.bMoveFlag *= -1;\r\n                }\r\n                else if (this.BlueBottle.x <= -200) {\r\n                    this.BlueBottle.x = -200;\r\n                    this.bMoveFlag *= -1;\r\n                }\r\n                cc.find(this.bPendingName, this.BlueBallParent).x = this.BlueBottle.x;\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    onPanelClicked(event, customEventData) {\r\n        if (customEventData == \"r\") {\r\n            //drop red ball\r\n            if (!this.isRedWaiting) {\r\n                this.redFailList = [];\r\n\r\n                this.isRedWaiting = true;\r\n                var obj = cc.find(this.rPendingName, this.RedBallParent);\r\n                obj.getComponent(cc.RigidBody).gravityScale = 2;\r\n                var sa1 = cc.scaleTo(0.2, 0.4, 0.7);\r\n                obj.runAction(sa1);\r\n                this.SoundMGR.playVoice();\r\n                this.scheduleOnce(function () {\r\n                    var sa2 = cc.scaleTo(0.2, 0.7, 0.7);\r\n                    // obj.stopAction(sa1);\r\n                    obj.runAction(sa2);\r\n                },\r\n                    0.2);\r\n                this.scheduleOnce(function () {\r\n                    this.checkThrowResult(0);\r\n                }, this.waitSeconds);\r\n\r\n            }\r\n        }\r\n        else {\r\n            if (!this.isBlueWaiting) {\r\n                this.blueFailList = [];\r\n\r\n                this.isBlueWaiting = true;\r\n                var obj = cc.find(this.bPendingName, this.BlueBallParent);\r\n                obj.getComponent(cc.RigidBody).gravityScale = -2;\r\n                var sa1 = cc.scaleTo(0.2, 0.4, 0.7);\r\n                obj.runAction(sa1);\r\n                this.SoundMGR.playVoice();\r\n                this.scheduleOnce(function () {\r\n                    var sa2 = cc.scaleTo(0.2, 0.7, 0.7);\r\n                    // obj.stopAction(sa1);\r\n                    obj.runAction(sa2);\r\n                },\r\n                    0.2);\r\n                this.scheduleOnce(function () {\r\n                    this.checkThrowResult(1);\r\n                }, this.waitSeconds);\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    checkThrowResult(bIndex) {\r\n        if (bIndex == 0) {\r\n            if (this.redFailList.indexOf(this.rPendingName) != -1) {//失败\r\n\r\n                for (var i = 0; i < this.redFailList.length; i++) {\r\n                    var sa = cc.scaleTo(0.3, 0, 0);\r\n                    var obj = cc.find(this.redFailList[i], this.RedBallParent);\r\n                    obj.runAction(sa);\r\n\r\n                }\r\n                this.scheduleOnce(function () {\r\n                    for (var i = 0; i < this.redFailList.length; i++) {\r\n\r\n                        var obj = cc.find(this.redFailList[i], this.RedBallParent);\r\n                        obj.destroy();\r\n\r\n                    }\r\n                    if (this.redFailList.length > 1) {\r\n                        this.rStackNumber -= 1;\r\n                    }\r\n\r\n                    if (this.rStackNumber < 0) {\r\n                        this.rStackNumber = 0;\r\n                    }\r\n                    this.SpawnNewBall(0);\r\n                }, 0.5);\r\n            }\r\n            else {\r\n                if (this.redSuccessList.indexOf(this.rPendingName) == -1) {\r\n                    this.redSuccessList.push(this.rPendingName);\r\n                }\r\n                this.rStackNumber += 1;\r\n                if (this.redSuccessList.length >= 3) {\r\n                    this.AddScore(0);\r\n                    this.DestroyStack(0);\r\n                    this.rMoveSpeed += this.moveStep;\r\n                }\r\n                else {\r\n                    this.SpawnNewBall(0);\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n        else {\r\n            if (this.blueFailList.indexOf(this.bPendingName) != -1) {//失败\r\n\r\n                for (var i = 0; i < this.blueFailList.length; i++) {\r\n                    var sa = cc.scaleTo(0.3, 0, 0);\r\n                    var obj = cc.find(this.blueFailList[i], this.BlueBallParent);\r\n                    obj.runAction(sa);\r\n\r\n                }\r\n                this.scheduleOnce(function () {\r\n                    for (var i = 0; i < this.blueFailList.length; i++) {\r\n\r\n                        var obj = cc.find(this.blueFailList[i], this.BlueBallParent);\r\n                        obj.destroy();\r\n\r\n                    }\r\n                    if (this.blueFailList.length > 1) {\r\n                        this.bStackNumber -= 1;\r\n                    }\r\n\r\n                    if (this.bStackNumber < 0) {\r\n                        this.bStackNumber = 0;\r\n                    }\r\n                    this.SpawnNewBall(1);\r\n                }, 0.5);\r\n            }\r\n            else {\r\n                if (this.blueSuccessList.indexOf(this.bPendingName) == -1) {\r\n                    this.blueSuccessList.push(this.bPendingName);\r\n                }\r\n                this.bStackNumber += 1;\r\n                if (this.blueSuccessList.length >= 3) {\r\n                    this.AddScore(1);\r\n                    this.DestroyStack(1);\r\n                    this.bMoveSpeed += this.moveStep;\r\n                }\r\n                else {\r\n                    this.SpawnNewBall(1);\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    //销毁堆叠的球并且生成新的球\r\n    DestroyStack(bIndex) {\r\n        if (bIndex == 0) {\r\n            for (var i = 0; i < this.redSuccessList.length; i++) {\r\n                var obj = cc.find(this.redSuccessList[i], this.RedBallParent);\r\n                var sa = cc.scaleTo(0.3, 0, 0);\r\n                obj.runAction(sa);\r\n            }\r\n            this.scheduleOnce(function () {\r\n                for (var i = 0; i < this.redSuccessList.length; i++) {\r\n\r\n                    var obj = cc.find(this.redSuccessList[i], this.RedBallParent);\r\n                    obj.destroy();\r\n\r\n                }\r\n                this.SpawnBaseBall(0);\r\n                this.SpawnNewBall(0);\r\n            }, 0.5);\r\n        }\r\n        else {\r\n            for (var i = 0; i < this.blueSuccessList.length; i++) {\r\n                var obj = cc.find(this.blueSuccessList[i], this.BlueBallParent);\r\n                var sa = cc.scaleTo(0.3, 0, 0);\r\n                obj.runAction(sa);\r\n            }\r\n            this.scheduleOnce(function () {\r\n                for (var i = 0; i < this.blueSuccessList.length; i++) {\r\n\r\n                    var obj = cc.find(this.blueSuccessList[i], this.BlueBallParent);\r\n                    obj.destroy();\r\n\r\n                }\r\n                this.SpawnBaseBall(1);\r\n                this.SpawnNewBall(1);\r\n            }, 0.5);\r\n        }\r\n    },\r\n\r\n    start() {\r\n        this.startAnimation();\r\n    },\r\n    startAnimation() {\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n            this.SpawnBaseBall(0);\r\n            this.SpawnNewBall(0);\r\n            this.SpawnBaseBall(1);\r\n            this.SpawnNewBall(1);\r\n        }, 4.5);\r\n\r\n    },\r\n\r\n    onBallHit(selfName, otherName) {\r\n        // cc.log(\"self:\" + selfName + \" other:\" + otherName);\r\n        if (otherName == \"RedBottom\") {\r\n            if (selfName.indexOf(\"rball\") != -1) {\r\n                this.redFailList.push(selfName);\r\n                if (this.redSuccessList.indexOf(selfName) != -1) {\r\n                    this.redSuccessList.splice(this.redSuccessList.indexOf(selfName), 1);\r\n                }\r\n            }\r\n        }\r\n        else if (otherName == \"BlueBottom\") {\r\n            if (selfName.indexOf(\"bball\") != -1) {\r\n                this.blueFailList.push(selfName);\r\n                if (this.blueSuccessList.indexOf(selfName) != -1) {\r\n                    this.blueSuccessList.splice(this.blueSuccessList.indexOf(selfName), 1);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    DestroyBall() {\r\n\r\n    },\r\n    //addindex=0，红色加分\r\n    AddScore(addIndex) {\r\n        if (addIndex == 0) {\r\n            this.redScore += 1;\r\n            this.redScoreLabel.setNumber(this.redScore);\r\n            this.SoundMGR.playScore();\r\n        }\r\n        else {\r\n            this.blueScore += 1;\r\n            this.blueScoreLabel.setNumber(this.blueScore);\r\n            this.SoundMGR.playScore();\r\n        }\r\n    },\r\n    // update (dt) {},\r\n\r\n    //生成最下面的球\r\n    SpawnBaseBall(bIndex) {\r\n        if (bIndex == 0)//red\r\n        {\r\n            this.SoundMGR.playPop();\r\n            this.rBaseIndex += 1;\r\n            var rd = Math.floor(Math.random() * 3);\r\n            // cc.log(rd);\r\n            var newObj = cc.instantiate(this.RedBallPres[rd]);\r\n            newObj.active = true;\r\n            // newObj.name = this.redIndex.toString();\r\n            newObj.parent = this.RedBallParent;\r\n            var tmpX = (Math.random() * 2 - 1) * 200;\r\n            newObj.setPosition(tmpX, -587);\r\n            newObj.scale = new cc.Vec2(0.7, 0.7);\r\n            newObj.name = \"rbase\" + this.rBaseIndex;\r\n            this.rStackNumber = 0;\r\n            this.redSuccessList = [];\r\n            this.redSuccessList.push(newObj.name);\r\n        }\r\n        else {\r\n            this.SoundMGR.playPop();\r\n            this.bBaseIndex += 1;\r\n            var rd = Math.floor(Math.random() * 3);\r\n            // cc.log(rd);\r\n            var newObj = cc.instantiate(this.BlueBallPres[rd]);\r\n            newObj.active = true;\r\n            // newObj.name = this.redIndex.toString();\r\n            newObj.parent = this.BlueBallParent;\r\n            var tmpX = (Math.random() * 2 - 1) * 200;\r\n            newObj.setPosition(tmpX, -587);\r\n            newObj.scale = new cc.Vec2(0.7, 0.7);\r\n            newObj.name = \"bbase\" + this.bBaseIndex;\r\n            this.bStackNumber = 0;\r\n            this.blueSuccessList = [];\r\n            this.blueSuccessList.push(newObj.name);\r\n        }\r\n    },\r\n\r\n    SpawnNewBall(bIndex) {\r\n        if (bIndex == 0)//spawn red\r\n        {\r\n            this.rBallIndex += 1;\r\n            this.SoundMGR.playPop();\r\n            this.isRedWaiting = false;\r\n\r\n            var rd = Math.floor(Math.random() * 3);\r\n            var newObj = cc.instantiate(this.RedBallPres[rd]);\r\n\r\n            newObj.active = true;\r\n            newObj.name = \"rball\" + this.rBallIndex.toString();\r\n            newObj.parent = this.RedBallParent;\r\n            newObj.scale = new cc.Vec2(0.7, 0.7);\r\n            newObj.position = this.RedBottle.position;\r\n            newObj.getComponent(cc.RigidBody).gravityScale = 0;\r\n\r\n            this.rPendingName = newObj.name;\r\n            // newObj.parent = this.RedBallParent;\r\n            // newObj.x = this.RedBallParent.x;\r\n            // newObj.y = this.RedBallParent.y;\r\n            // cc.log(newObj.position);\r\n\r\n\r\n        }\r\n        else {\r\n            this.bBallIndex += 1;\r\n            this.SoundMGR.playPop();\r\n            this.isBlueWaiting = false;\r\n\r\n            var rd = Math.floor(Math.random() * 3);\r\n            var newObj = cc.instantiate(this.BlueBallPres[rd]);\r\n\r\n            newObj.active = true;\r\n            newObj.name = \"bball\" + this.bBallIndex.toString();\r\n            newObj.parent = this.BlueBallParent;\r\n            newObj.scale = new cc.Vec2(0.7, 0.7);\r\n            newObj.position = this.BlueBottle.position;\r\n            newObj.getComponent(cc.RigidBody).gravityScale = 0;\r\n\r\n            this.bPendingName = newObj.name;\r\n        }\r\n    }\r\n});\r\n"]}