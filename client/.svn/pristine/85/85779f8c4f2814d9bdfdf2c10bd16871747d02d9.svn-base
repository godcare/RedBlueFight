{"version":3,"sources":["MySpriteAnimation.js"],"names":["cc","Class","extends","Component","properties","Sprites","default","type","SpriteFrame","IsPlaying","FrameRate","Interval","findex","tmpTimer","TargetSprite","Sprite","PlayOnAwake","IsLoop","start","update","dt","length","spriteFrame","Play","loop","StopPlay"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,iBACA;AACIC,qBAAS,EADb;AAEIC,kBAAM,CAACP,GAAGQ,WAAJ;AAFV,SAjBQ;AAqBRC,mBAAW,KArBH;AAsBRC,mBAAW,EAtBH;AAuBRC,kBAAU,CAvBF;AAwBRC,gBAAQ,CAxBA;AAyBRC,kBAAU,CAzBF;AA0BRC,sBACA;AACIR,qBAAS,IADb;AAEIC,kBAAMP,GAAGe;AAFb,SA3BQ;AA+BRC,qBAAa,IA/BL;AAgCRC,gBAAQ;AAhCA,KAHP;;AAsCL;;AAEA;;AAEAC,SA1CK,mBA0CG;AACJ,aAAKP,QAAL,GAAgB,IAAI,KAAKD,SAAzB;AACA,YAAI,KAAKM,WAAT,EAAsB;AAClB,iBAAKP,SAAL,GAAiB,IAAjB;AACH;AACJ,KA/CI;AAiDLU,UAjDK,kBAiDEC,EAjDF,EAiDM;AACP,YAAI,KAAKX,SAAT,EAAoB;AAChB,iBAAKI,QAAL,IAAiBO,EAAjB;AACA,gBAAI,KAAKP,QAAL,IAAiB,KAAKF,QAA1B,EAAoC;AAChC,qBAAKE,QAAL,GAAgB,CAAhB;AACA,oBAAI,KAAKD,MAAL,GAAc,KAAKP,OAAL,CAAagB,MAAb,GAAsB,CAAxC,EAA2C;AACvC,yBAAKT,MAAL,IAAe,CAAf;AACH,iBAFD,MAGK,IAAI,KAAKK,MAAT,EAAiB;AAClB,yBAAKL,MAAL,GAAc,CAAd;AACH,iBAFI,MAGA;AACD,yBAAKH,SAAL,GAAiB,KAAjB;AACA,yBAAKI,QAAL,GAAgB,CAAhB;AACH;AACD,qBAAKC,YAAL,CAAkBQ,WAAlB,GAAgC,KAAKjB,OAAL,CAAa,KAAKO,MAAlB,CAAhC;AACH;AACJ;AACJ,KAnEI;AAqELW,QArEK,gBAqEAC,IArEA,EAqEM;AACP,aAAKV,YAAL,CAAkBQ,WAAlB,GAAgC,KAAKjB,OAAL,CAAa,CAAb,CAAhC;AACA,aAAKI,SAAL,GAAiB,IAAjB;AACA,aAAKQ,MAAL,GAAcO,IAAd;AACA,aAAKZ,MAAL,GAAc,CAAd;AACA,aAAKC,QAAL,GAAgB,CAAhB;AACH,KA3EI;AA6ELY,YA7EK,sBA6EM;AACP,aAAKhB,SAAL,GAAiB,KAAjB;AACH;AA/EI,CAAT","file":"MySpriteAnimation.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\Utility","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        Sprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        IsPlaying: false,\r\n        FrameRate: 12,\r\n        Interval: 0,\r\n        findex: 0,\r\n        tmpTimer: 0,\r\n        TargetSprite:\r\n        {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n        PlayOnAwake: true,\r\n        IsLoop: true,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.Interval = 1 / this.FrameRate;\r\n        if (this.PlayOnAwake) {\r\n            this.IsPlaying = true;\r\n        }\r\n    },\r\n\r\n    update(dt) {\r\n        if (this.IsPlaying) {\r\n            this.tmpTimer += dt;\r\n            if (this.tmpTimer >= this.Interval) {\r\n                this.tmpTimer = 0;\r\n                if (this.findex < this.Sprites.length - 1) {\r\n                    this.findex += 1;\r\n                }\r\n                else if (this.IsLoop) {\r\n                    this.findex = 0;\r\n                }\r\n                else {\r\n                    this.IsPlaying = false;\r\n                    this.tmpTimer = 0;\r\n                }\r\n                this.TargetSprite.spriteFrame = this.Sprites[this.findex];\r\n            }\r\n        }\r\n    },\r\n\r\n    Play(loop) {\r\n        this.TargetSprite.spriteFrame = this.Sprites[0];\r\n        this.IsPlaying = true;\r\n        this.IsLoop = loop;\r\n        this.findex = 0;\r\n        this.tmpTimer = 0;\r\n    },\r\n\r\n    StopPlay() {\r\n        this.IsPlaying = false;\r\n    },\r\n\r\n\r\n});\r\n"]}