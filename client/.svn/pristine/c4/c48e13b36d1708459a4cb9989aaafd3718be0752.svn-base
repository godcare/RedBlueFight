{"version":3,"sources":["MainMenuControl.js"],"names":["SoundManager","require","MoveRepeat","cc","Class","extends","Component","properties","SoundMGR","default","type","MaxSchedulerLabel","Label","RedPoint","BluePoint","SchedulerLabel","GameIcons","Node","GameIconSprites","SpriteFrame","ScheduleSelectSprites","StartSprite","IsSelectPanelOn","SelectedGamePanel","SelectGameSwitch","GameListPanel","ScheduleGameParent","SoundBtn","SoundFxBtn","FillOrRandomBtn","SelectGameWarn","StartGameWarn","soundSprites","soundFxSprites","currentSelectedIndex","lastClickPointBGTime","onLoad","start","InitData","i","getChildByName","getComponent","string","Global","GameData","AllGames","displayName","PlayedGameCount","playTitleBGM","audioEngine","getMusicVolume","Sprite","spriteFrame","getEffectsVolume","toString","SetScheduler","onSoundSwitch","event","customEventData","log","setMusicVolume","onSoundFxSwitch","setEffectsVolume","length","ScheduledGames","indexOf","UnScheduledGames","push","splice","MaxSchedulerCount","find","Button","enabled","opacity","active","MaxChooseCount","tmpI","color","Color","WHITE","scheduleOnce","ShowStartGameWarn","GRAY","ShowSelectGameWarn","OnPointBGClick","date","Date","t","getTime","OnRemoveThisClick","tmpS","OnFillOrRandomClick","tr","Math","floor","random","ti","targetI","tmp","OnClearClick","OnSelectGameClicked","action","moveBy","aa","fadeTo","runAction","node","OnScheduledGameClicked","OnGameIconClicked","tmpIndex","MaxFinishedCount","OnScheduleStart","TotalGameCount","IsPlayForFun","ResultArray","LastSceneName","director","loadScene","OnPlayThisClick","OnCloseSelectedPanelButton","OnRoundSwitch","oa","moveStart"],"mappings":"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","file":"MainMenuControl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\MainMenu","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar SoundManager = require(\"SoundManager\");\r\nvar MoveRepeat = require(\"MoveRepeat\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        MaxSchedulerLabel:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        RedPoint:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        BluePoint:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        SchedulerLabel:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        GameIcons:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n\r\n        },\r\n        GameIconSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        ScheduleSelectSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        StartSprite:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        IsSelectPanelOn:\r\n        {\r\n            default: false,\r\n        },\r\n        SelectedGamePanel:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SelectGameSwitch:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        GameListPanel:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        ScheduleGameParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SoundBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SoundFxBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        FillOrRandomBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SelectGameWarn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        StartGameWarn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        soundSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        soundFxSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        currentSelectedIndex: -1,\r\n        lastClickPointBGTime: 0,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n\r\n        //开启右上角的分享\r\n\r\n        //监听右上角的分享调用 \r\n\r\n\r\n\r\n\r\n    },\r\n\r\n    start() {\r\n        this.InitData();\r\n        \r\n    },\r\n\r\n    InitData: function () {\r\n        //初始化游戏图标\r\n        for (var i = 0; i < 8; i++) {\r\n            this.GameIcons[i].getChildByName(\"Name\").getComponent(cc.Label).string = Global.GameData.AllGames[i].displayName;\r\n        }\r\n        Global.GameData.PlayedGameCount = 0;\r\n        this.SoundMGR.playTitleBGM();\r\n        if (cc.audioEngine.getMusicVolume() > 0) {\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[1];\r\n        }\r\n        else {\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[0];\r\n        }\r\n        if (cc.audioEngine.getEffectsVolume() > 0) {\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[1];\r\n        }\r\n        else {\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[0];\r\n        }\r\n        this.RedPoint.string = Global.GameData.RedPoint.toString();\r\n        this.BluePoint.string = Global.GameData.BluePoint.toString();\r\n\r\n        this.SetScheduler();\r\n    },\r\n\r\n    onSoundSwitch(event, customEventData) {\r\n        cc.log(cc.audioEngine.getMusicVolume());\r\n        if (cc.audioEngine.getMusicVolume() > 0) {\r\n            cc.audioEngine.setMusicVolume(0.0);\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[0];\r\n        }\r\n        else {\r\n            cc.audioEngine.setMusicVolume(1);\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[1];\r\n        }\r\n    },\r\n\r\n    onSoundFxSwitch(event, customEventData) {\r\n        if (cc.audioEngine.getEffectsVolume() > 0) {\r\n            cc.audioEngine.setEffectsVolume(0);\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[0];\r\n        }\r\n        else {\r\n            cc.audioEngine.setEffectsVolume(1);\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[1];\r\n        }\r\n\r\n    },\r\n    //设置排上日程的游戏列表\r\n    SetScheduler: function () {\r\n        for (var i = 0; i < Global.GameData.AllGames.length; i++) {\r\n            if (Global.GameData.ScheduledGames.indexOf(i.toString()) == -1) {//如果未安排，且不在未安排列表里，添加到未安排列表里\r\n                if (Global.GameData.UnScheduledGames.indexOf(i.toString()) == -1) {\r\n                    Global.GameData.UnScheduledGames.push(i.toString());\r\n                }\r\n            }\r\n            else {\r\n                if (Global.GameData.UnScheduledGames.indexOf(i.toString()) != -1) {//如果已安排，且在未安排列表里，从未安排列表里移除\r\n                    Global.GameData.UnScheduledGames.splice(Global.GameData.UnScheduledGames.indexOf(i.toString()), 1);\r\n                }\r\n            }\r\n        }\r\n        this.MaxSchedulerLabel.string = Global.GameData.MaxSchedulerCount;\r\n        //设置已选\r\n        for (var i = 0; i < Global.GameData.ScheduledGames.length; i++) {\r\n            //设置底部游戏列表\r\n            // cc.find(\"List/\" + Global.GameData.ScheduledGames[i].toString() + \"/Mark\", this.GameListPanel).active = true;\r\n            // cc.find(\"List/\" + Global.GameData.ScheduledGames[i].toString() + \"/Name\", this.GameListPanel).color = new cc.color(255, 255, 255, 255);\r\n\r\n            //设置中部游戏日程表\r\n            if (i < Global.GameData.MaxSchedulerCount) {\r\n                cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = true;\r\n                cc.find(i.toString(), this.ScheduleGameParent).opacity = 255;\r\n            }\r\n            else {\r\n                // cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = false;\r\n                cc.find(i.toString(), this.ScheduleGameParent).opacity = 120;\r\n            }\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.GameIconSprites[Global.GameData.ScheduledGames[i]];\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).getComponent(cc.Label).string = Global.GameData.AllGames[Global.GameData.ScheduledGames[i]].displayName;\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).active = true;\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).active = true;\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.ScheduleSelectSprites[0];\r\n\r\n        }\r\n        //设置未选\r\n        for (var i = Global.GameData.ScheduledGames.length; i < Global.GameData.MaxChooseCount; i++) {\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).active = false;\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).active = false;\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.ScheduleSelectSprites[1];\r\n        }\r\n\r\n        for (var i = 0; i < Global.GameData.MaxSchedulerCount; i++) {\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = true;\r\n\r\n        }\r\n\r\n        for (var i = Global.GameData.MaxSchedulerCount; i < Global.GameData.MaxChooseCount; i++) {\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = false;\r\n\r\n        }\r\n        for (var i = 0; i < 8; i++) {\r\n            var tmpI = Global.GameData.ScheduledGames.indexOf(i.toString());\r\n            if (tmpI == -1) {\r\n                cc.log(\"Game\" + i + \"Not In\");\r\n                cc.find(\"List/\" + i.toString() + \"/Mark\", this.GameListPanel).active = false;\r\n                cc.find(\"List/\" + i.toString() + \"/Name\", this.GameListPanel).color = new cc.Color(0, 89, 136, 255);\r\n            }\r\n            else {\r\n                cc.log(\"Game\" + i + \"In\");\r\n                cc.find(\"List/\" + i.toString() + \"/Mark\", this.GameListPanel).active = true;\r\n                cc.find(\"List/\" + i.toString() + \"/Name\", this.GameListPanel).color = cc.Color.WHITE;\r\n            }\r\n        }\r\n        this.SchedulerLabel.string = Global.GameData.ScheduledGames.length + \"/\" + Global.GameData.MaxChooseCount;\r\n        //验证是否满足开始条件\r\n        if (Global.GameData.ScheduledGames.length >= Global.GameData.MaxSchedulerCount) {\r\n            this.StartSprite.color = new cc.Color(255, 100, 27, 255);\r\n            this.StartSprite.getComponent(cc.Button).enabled = true;\r\n            this.SelectGameWarn.active = false;\r\n            this.scheduleOnce(function () {\r\n\r\n                if (!this.StartGameWarn.active && Global.GameData.ScheduledGames.length >= Global.GameData.MaxSchedulerCount && !this.IsSelectPanelOn) {\r\n                    this.ShowStartGameWarn();\r\n                }\r\n            }, 2);\r\n        }\r\n        else {\r\n            this.StartSprite.color = cc.Color.GRAY;\r\n            this.StartSprite.getComponent(cc.Button).enabled = false;\r\n            this.StartGameWarn.active = false;\r\n            this.scheduleOnce(function () {\r\n                if (!this.SelectGameWarn.active && Global.GameData.ScheduledGames.length < Global.GameData.MaxSchedulerCount && !this.IsSelectPanelOn) {\r\n                    this.ShowSelectGameWarn();\r\n                }\r\n            }, 2);\r\n        }\r\n\r\n        if (Global.GameData.ScheduledGames.length < Global.GameData.MaxChooseCount) {\r\n            cc.find(\"Label\", this.FillOrRandomBtn).getComponent(cc.Label).string = \"填满\";\r\n        }\r\n        else {\r\n            cc.find(\"Label\", this.FillOrRandomBtn).getComponent(cc.Label).string = \"重排\";\r\n        }\r\n    },\r\n\r\n    OnPointBGClick(event, customEventData) {\r\n        var date = new Date();\r\n        var t = date.getTime();\r\n        if (t - this.lastClickPointBGTime <= 600) {\r\n            cc.log(\"Double Click\");\r\n            Global.GameData.RedPoint = 0;\r\n            Global.GameData.BluePoint = 0;\r\n            this.RedPoint.string = Global.GameData.RedPoint.toString();\r\n            this.BluePoint.string = Global.GameData.BluePoint.toString();\r\n            this.lastClickPointBGTime = 0;\r\n        }\r\n        else {\r\n            this.lastClickPointBGTime = t;\r\n        }\r\n    },\r\n\r\n    OnRemoveThisClick(event, customEventData) {\r\n        var tmpS = Global.GameData.ScheduledGames.indexOf(this.currentSelectedIndex.toString());\r\n        Global.GameData.ScheduledGames.splice(tmpS, 1);\r\n        this.SetScheduler();\r\n        this.SelectedGamePanel.active = false;\r\n    },\r\n\r\n    OnFillOrRandomClick(event, customEventData) {\r\n        if (Global.GameData.ScheduledGames.length < Global.GameData.MaxChooseCount) {//填满操作，随机填满\r\n            for (var i = Global.GameData.ScheduledGames.length; i < Global.GameData.MaxChooseCount; i++) {\r\n                cc.log(\"Scheduler:\" + Global.GameData.ScheduledGames + \" UnS:\" + Global.GameData.UnScheduledGames);\r\n                var tr = Math.floor(Math.random() * Global.GameData.UnScheduledGames.length);\r\n                var ti = Global.GameData.UnScheduledGames[tr];\r\n                Global.GameData.ScheduledGames.push(ti.toString());\r\n                Global.GameData.UnScheduledGames.splice(tr, 1);\r\n            }\r\n            // for (var i = 0; i < Global.GameData.MaxFinishedCount; i++) {\r\n\r\n            //     var tmpIndex = Global.GameData.ScheduledGames.indexOf(i.toString());\r\n            //     if (tmpIndex == -1) {\r\n            //         Global.GameData.ScheduledGames.push(i.toString());\r\n            //         if (Global.GameData.ScheduledGames.length >= Global.GameData.MaxChooseCount) {\r\n            //             break;\r\n            //         }\r\n            //     }\r\n            // }\r\n        }\r\n        else {//重排操作\r\n            cc.log(\"rerange before:\" + Global.GameData.ScheduledGames);\r\n            for (var i = 0; i < Global.GameData.ScheduledGames.length; i++) {\r\n                var targetI = Math.floor(Math.random() * (Global.GameData.ScheduledGames.length - 1));\r\n                var tmp = Global.GameData.ScheduledGames[i];\r\n                cc.log(\"ti:\" + targetI + \" tmpV:\" + tmp + \" i:\" + i + \" targetV:\" + Global.GameData.ScheduledGames[targetI]);\r\n                Global.GameData.ScheduledGames[i] = Global.GameData.ScheduledGames[targetI];\r\n                Global.GameData.ScheduledGames[targetI] = tmp;\r\n            }\r\n            cc.log(\"rerange after:\" + Global.GameData.ScheduledGames);\r\n        }\r\n        this.SetScheduler();\r\n    },\r\n\r\n    OnClearClick(event, customEventData) {\r\n        Global.GameData.ScheduledGames = [];\r\n        this.SetScheduler();\r\n    },\r\n    //下方游戏列表单元点击\r\n    OnSelectGameClicked(event, customEventData) {\r\n        if (this.IsSelectPanelOn) {\r\n            var action = cc.moveBy(0.2, 0, -300);\r\n            var aa = cc.fadeTo(0.2, 0);\r\n\r\n            this.GameListPanel.getChildByName(\"Mask\").runAction(aa);\r\n            this.scheduleOnce(function () {\r\n                this.GameListPanel.getChildByName(\"Mask\").active = false;\r\n                this.GameListPanel.getChildByName(\"BG\").color = cc.Color.WHITE;\r\n                this.GameListPanel.getChildByName(\"BG\").opacity = 200;\r\n            }, 0.25);\r\n\r\n            this.GameListPanel.runAction(action);\r\n            this.IsSelectPanelOn = false;\r\n            this.SelectGameSwitch.color = new cc.Color(252, 141, 55, 255);\r\n            this.SelectGameSwitch.getChildByName(\"Label\").getComponent(cc.Label).string = \"选择游戏\";\r\n            this.SchedulerLabel.node.active = false;\r\n            this.SetScheduler();\r\n        }\r\n        else {\r\n            var action = cc.moveBy(0.2, 0, 300);\r\n            this.GameListPanel.getChildByName(\"Mask\").active = true;\r\n            this.GameListPanel.getChildByName(\"Mask\").opacity = 0;\r\n            var aa = cc.fadeTo(0.2, 150);\r\n            this.GameListPanel.getChildByName(\"BG\").opacity = 255;\r\n            this.GameListPanel.getChildByName(\"BG\").color = new cc.Color(223, 241, 247, 255);\r\n            this.GameListPanel.getChildByName(\"Mask\").runAction(aa);\r\n\r\n            this.GameListPanel.runAction(action);\r\n            this.IsSelectPanelOn = true;\r\n            this.SelectGameSwitch.getChildByName(\"Label\").getComponent(cc.Label).string = \"我选好了\";\r\n            this.SelectGameSwitch.color = new cc.Color(255, 205, 77, 255);\r\n            this.SchedulerLabel.node.active = true;\r\n            this.StartGameWarn.active = false;\r\n            this.SelectGameWarn.active = false;\r\n        }\r\n    },\r\n\r\n    //已安排游戏点击\r\n    OnScheduledGameClicked(event, customEventData) {\r\n        this.currentSelectedIndex = Global.GameData.ScheduledGames[customEventData];\r\n        this.SelectedGamePanel.active = true;\r\n        cc.find(\"IconPanel/Icon\", this.SelectedGamePanel).getComponent(cc.Sprite).spriteFrame = this.GameIconSprites[this.currentSelectedIndex];\r\n        cc.find(\"SelectedGameName\", this.SelectedGamePanel).getComponent(cc.Label).string = Global.GameData.AllGames[this.currentSelectedIndex].displayName;\r\n    },\r\n\r\n    OnGameIconClicked(event, customEventData) {\r\n        cc.log(customEventData);\r\n        if (this.IsSelectPanelOn) {\r\n            var tmpIndex = Global.GameData.ScheduledGames.indexOf(customEventData);\r\n            if (customEventData <= Global.GameData.MaxFinishedCount - 1) //没完工的游戏先不往上放\r\n            {\r\n                if (Global.GameData.ScheduledGames.length < Global.GameData.MaxChooseCount) {//还可以接着选\r\n                    if (tmpIndex == -1) {\r\n                        if (Global.GameData.ScheduledGames.length < Global.GameData.MaxSchedulerCount) //原先没有就加并且还没达到开局要求\r\n                        {\r\n                            Global.GameData.ScheduledGames.push(customEventData);\r\n                        }\r\n                    }\r\n\r\n                    this.SetScheduler();\r\n                }\r\n                if (tmpIndex != -1)//原先有就删\r\n                {\r\n                    Global.GameData.ScheduledGames.splice(tmpIndex, 1);\r\n                    this.SetScheduler();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n\r\n        }\r\n    },\r\n    OnScheduleStart(event, customEventData) {\r\n        Global.GameData.TotalGameCount = Global.GameData.MaxSchedulerCount;\r\n        Global.GameData.IsPlayForFun = false;\r\n        Global.GameData.ResultArray = [];\r\n        Global.GameData.PlayedGameCount = 0;\r\n        Global.GameData.LastSceneName = \"GameScene\" + Global.GameData.ScheduledGames[0].toString();\r\n        cc.director.loadScene(\"GameScene\" + Global.GameData.ScheduledGames[0].toString());\r\n    },\r\n    OnPlayThisClick(event, customEventData) {\r\n        Global.GameData.TotalGameCount = 7;\r\n        Global.GameData.IsPlayForFun = true;\r\n        Global.GameData.ResultArray = [];\r\n        Global.GameData.PlayedGameCount = 0;\r\n        Global.GameData.LastSceneName = \"GameScene\" + this.currentSelectedIndex.toString();\r\n        cc.director.loadScene(\"GameScene\" + this.currentSelectedIndex.toString());\r\n    },\r\n\r\n    OnCloseSelectedPanelButton(event, customEventData) {\r\n        this.SelectedGamePanel.active = false;\r\n\r\n    },\r\n\r\n    OnRoundSwitch(event, customEventData) {\r\n        if (customEventData == 1) {\r\n            if (Global.GameData.MaxSchedulerCount <= 5) {\r\n                Global.GameData.MaxSchedulerCount += 2;\r\n            }\r\n        }\r\n        else {\r\n            if (Global.GameData.MaxSchedulerCount >= 5) {\r\n                Global.GameData.MaxSchedulerCount -= 2;\r\n            }\r\n        }\r\n        this.SetScheduler();\r\n    },\r\n\r\n    ShowStartGameWarn() {\r\n        if (!this.StartGameWarn.active) {\r\n            this.StartGameWarn.opacity = 0;\r\n            this.StartGameWarn.active = true;\r\n            var oa = cc.fadeTo(0.2, 255);\r\n            this.StartGameWarn.runAction(oa);\r\n            this.scheduleOnce(function () {\r\n                this.StartGameWarn.getComponent(MoveRepeat).moveStart();\r\n            }, 0.2);\r\n        }\r\n    },\r\n\r\n    ShowSelectGameWarn() {\r\n        if (!this.SelectGameWarn.active) {\r\n            this.SelectGameWarn.opacity = 0;\r\n            this.SelectGameWarn.active = true;\r\n            var oa = cc.fadeTo(0.2, 255);\r\n            this.SelectGameWarn.runAction(oa);\r\n            this.scheduleOnce(function () {\r\n                this.SelectGameWarn.getComponent(MoveRepeat).moveStart();\r\n            }, 0.2);\r\n        }\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}