{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game2/assets\\Scripts\\Control\\Games\\Game2\\Game2Control.js"],"names":["blueDragMove","require","redDragMove","SoundManager","cc","Class","extends","Component","properties","SoundMGR","default","type","GameResultNode","Node","CountDownNode","PauseNode","RedPlayer","BluePlayer","GameStatus","RedEnemySprites","SpriteFrame","BlueEnemySprites","AllBlues","AllReds","RedEnemy","BlueEnemy","xLimit","yLimit","MaxEnemyCount","RedEnemyCount","BlueEnemyCount","onLoad","director","getPhysicsManager","enabled","update","forEach","element","y","x","active","splice","indexOf","destoryEnemy","spawnEnemy","start","startAnimation","scheduleOnce","getComponent","schedule","tmpN","Math","floor","random","i","BallHit","HitPlayer","HitName","playOuch","sa","scaleTo","aa","fadeOut","runAction","playOver","Global","GameData","CurrentWinner","eType","newObj","instantiate","playPop","log","rs","rsy","tmpy","rss","abs","name","setPosition","RigidBody","linearVelocity","Vec2","Sprite","spriteFrame","parent","find","node","push","targetEnemy","destroy"],"mappings":"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","file":"Game2Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game2","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar blueDragMove = require(\"Game2DragMoveBlue\");\r\nvar redDragMove = require(\"Game2DragMoveRed\");\r\nvar SoundManager = require(\"SoundManager\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedPlayer:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BluePlayer:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        GameStatus: 0,//0未开始，1开始了，2结束了\r\n        RedEnemySprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        BlueEnemySprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        AllBlues:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        AllReds:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        RedEnemy:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueEnemy:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        xLimit: 0,\r\n        yLimit: 0,\r\n        MaxEnemyCount: 0,\r\n        RedEnemyCount: 0,\r\n        BlueEnemyCount: 0,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    onLoad() {\r\n        cc.director.getPhysicsManager().enabled = true;\r\n\r\n    },\r\n    update() {\r\n        if (this.GameStatus == 1) {\r\n            if (this.BlueEnemyCount > 0) {\r\n                this.AllBlues.forEach(element => {\r\n                    if (element.y <= 30 || element.y >= this.yLimit || element.x <= -this.xLimit || element.x >= this.xLimit) {\r\n                        element.active = false;\r\n                        this.AllBlues.splice(this.AllBlues.indexOf(element), 1);\r\n                        this.destoryEnemy(element);\r\n                        this.spawnEnemy(1);\r\n                    }\r\n\r\n                });\r\n            }\r\n            if (this.RedEnemyCount > 0) {\r\n                this.AllReds.forEach(element => {\r\n                    if (element.y >= -30 || element.y <= -this.yLimit || element.x <= -this.xLimit || element.x >= this.xLimit) {\r\n                        element.active = false;\r\n                        this.AllReds.splice(this.AllReds.indexOf(element), 1);\r\n                        this.destoryEnemy(element);\r\n                        this.spawnEnemy(0);\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n\r\n        }\r\n    },\r\n    start() {\r\n        this.startAnimation();\r\n    },\r\n    startAnimation() {\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n            this.RedPlayer.getComponent(redDragMove).enabled = true;\r\n            this.BluePlayer.getComponent(blueDragMove).enabled = true;\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n\r\n        }, 3.5);\r\n        this.schedule(function () {\r\n            var tmpN = Math.floor(Math.random() * 3);\r\n            for (var i = 0; i <= tmpN; i++) {\r\n                this.spawnEnemy(0);\r\n                this.spawnEnemy(1);\r\n            }\r\n\r\n        }, 3, 6, 4, true);\r\n\r\n    },\r\n\r\n    BallHit(HitPlayer, HitName) {\r\n        if (this.GameStatus == 1) {\r\n            if (HitPlayer == \"RedPlayer\") {\r\n                if (HitName == \"Red\")//红色撞了\r\n                {\r\n                    this.SoundMGR.playOuch();\r\n                    this.GameStatus = 2;\r\n                    this.RedPlayer.getComponent(redDragMove).enabled = false;\r\n                    this.BluePlayer.getComponent(blueDragMove).enabled = false;\r\n                    var sa = cc.scaleTo(1, 3, 3);\r\n                    var aa = cc.fadeOut(1);\r\n                    this.RedPlayer.runAction(sa);\r\n                    this.RedPlayer.runAction(aa);\r\n                    this.SoundMGR.playOver();\r\n                    this.scheduleOnce(function () {\r\n\r\n                        Global.GameData.CurrentWinner = 1;\r\n                        this.GameResultNode.active = true;\r\n                    }, 1.5);\r\n                }\r\n            }\r\n            else if (HitPlayer == \"BluePlayer\") {\r\n                if (HitName == \"Blue\")//蓝色撞了\r\n                {\r\n                    this.SoundMGR.playOuch();\r\n                    this.GameStatus = 2;\r\n                    this.RedPlayer.getComponent(redDragMove).enabled = false;\r\n                    this.BluePlayer.getComponent(blueDragMove).enabled = false;\r\n                    var sa = cc.scaleTo(1, 3, 3);\r\n                    var aa = cc.fadeOut(1);\r\n                    this.BluePlayer.runAction(sa);\r\n                    this.BluePlayer.runAction(aa);\r\n                    this.SoundMGR.playOver();\r\n                    this.scheduleOnce(function () {\r\n\r\n\r\n                        Global.GameData.CurrentWinner = 0;\r\n                        this.GameResultNode.active = true;\r\n                    }, 1.5);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    //eType=0,生成红色敌人,1生成蓝色敌人\r\n    spawnEnemy(eType) {\r\n        if (eType == 0) {\r\n            if (this.RedEnemyCount < this.MaxEnemyCount) {\r\n                var newObj = cc.instantiate(this.RedEnemy);\r\n                this.SoundMGR.playPop();\r\n                cc.log(\"Math Random\");\r\n                var rs = (Math.random() - 0.5) * 2;\r\n                var rsy = Math.random() * 0.3 + 0.3;\r\n                var tmpy = 0;\r\n                var rss = Math.floor(Math.random() * 6);\r\n                if (Math.abs(500 * rs) <= 410) {\r\n                    tmpy = -700;\r\n                }\r\n                else {\r\n                    tmpy = -50 * (Math.random() - 0.5) * 2 - 720;\r\n                }\r\n                newObj.active = true;\r\n                newObj.name = \"Red\";\r\n                newObj.setPosition(500 * rs, tmpy, 0);\r\n                newObj.getComponent(cc.RigidBody).linearVelocity = new cc.Vec2((this.RedPlayer.x - newObj.x) * rsy, (this.RedPlayer.y - newObj.y) * rsy);\r\n                newObj.getComponent(cc.Sprite).spriteFrame = this.RedEnemySprites[rss];\r\n                newObj.parent = cc.find(\"GameCore\", this.node);\r\n\r\n                this.AllReds.push(newObj);\r\n                this.RedEnemyCount += 1;\r\n            }\r\n        }\r\n        else {\r\n            if (this.BlueEnemyCount < this.MaxEnemyCount) {\r\n                var newObj = cc.instantiate(this.BlueEnemy);\r\n                this.SoundMGR.playPop();\r\n                var rs = (Math.random() - 0.5) * 2;\r\n                var rsy = Math.random() * 0.3 + 0.3;\r\n                var tmpy = 0;\r\n                var rss = Math.floor(Math.random() * 6);\r\n                if (Math.abs(500 * rs) <= 410) {\r\n                    tmpy = 700;\r\n                }\r\n                else {\r\n                    tmpy = 50 * (Math.random() - 0.5) * 2 + 720;\r\n                }\r\n                newObj.active = true;\r\n                newObj.name = \"Blue\";\r\n                newObj.setPosition(500 * rs, tmpy, 0);\r\n                newObj.getComponent(cc.RigidBody).linearVelocity = new cc.Vec2((this.BluePlayer.x - newObj.x) * rsy, (this.BluePlayer.y - newObj.y) * rsy);\r\n                newObj.getComponent(cc.Sprite).spriteFrame = this.BlueEnemySprites[rss];\r\n                newObj.parent = cc.find(\"GameCore\", this.node);\r\n\r\n                this.AllBlues.push(newObj);\r\n                this.BlueEnemyCount += 1;\r\n            }\r\n        }\r\n    },\r\n    destoryEnemy(targetEnemy) {\r\n        if (targetEnemy.name == \"Blue\") {\r\n            targetEnemy.destroy();\r\n            this.BlueEnemyCount -= 1;\r\n        }\r\n        else {\r\n            targetEnemy.destroy();\r\n            this.RedEnemyCount -= 1;\r\n        }\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}