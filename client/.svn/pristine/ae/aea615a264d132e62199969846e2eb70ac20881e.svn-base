{"version":3,"sources":["Game3Control.js"],"names":["SoundManager","require","cc","Class","extends","Component","properties","SoundMGR","default","type","GameResultNode","Node","CountDownNode","PauseNode","RedPlayer","BluePlayer","RedFake","BlueFake","GameStatus","RoundInterval","safeOffsetY","rPos","bPos","bluePipeParent","redPipeParent","outY","safeY","deadY","safePipeY","safeX1","safeX2","pipePushY","pipeResetY","roundCount","yOffsets","redRightBtn","redLeftBtn","BlueLeftBtn","BlueRightBtn","isRedDead","isBlueDead","isFirstRound","isSecondAliveBattle","maxOffsetY","start","startAnimation","x1","Math","floor","random","x2","i","find","toString","y","scheduleOnce","active","PrepareNextGame","setYOffsets","rma","moveTo","Vec2","runAction","bma","rppa","x","bppa","ShowBalls","getComponent","Button","enabled","pushStart","tmp","push","shakePipes","playShake","isAlive","height","playFart","playPush2","isDraw","playOver","Global","GameData","CurrentWinner","shakeCount","shakeMaxOffset","shakeInterval","isReverse","iflag","orY","obY","j","log","setBallPos","opacity","rboa","fadeTo","rfoa","bboa","bfoa","ballType","ballPos","event","customEventData"],"mappings":"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","file":"Game3Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game3","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar SoundManager = require(\"SoundManager\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedPlayer:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BluePlayer:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedFake:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueFake:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        GameStatus: 0,//0未开始，1开始了，2结束了\r\n        RoundInterval: 2,\r\n        safeOffsetY: 35,\r\n        rPos: 3,\r\n        bPos: 6,\r\n        bluePipeParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        redPipeParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        outY: 295,\r\n        safeY: 265,\r\n        deadY: 265,\r\n        safePipeY: -35,\r\n        safeX1: -1,\r\n        safeX2: -1,\r\n        pipePushY: 155,\r\n        pipeResetY: 50,\r\n        roundCount: 0,\r\n        yOffsets: [],//Y轴随机偏移量\r\n        redRightBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        redLeftBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueLeftBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueRightBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        isRedDead: false,\r\n        isBlueDead: false,\r\n        isFirstRound: true,\r\n        isSecondAliveBattle: false,//双方都没死，继续战斗\r\n        maxOffsetY: 0.7,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    start() {\r\n        this.startAnimation();\r\n    },\r\n\r\n    startAnimation() {\r\n        var x1 = Math.floor(Math.random() * 10);\r\n        while (x1 == this.rPos || x1 == this.bPos) {\r\n            x1 = Math.floor(Math.random() * 10);\r\n        }\r\n        var x2 = Math.floor(Math.random() * 10);\r\n        while (x2 == this.rPos || x2 == this.bPos || x2 == x1) {\r\n            x2 = Math.floor(Math.random() * 10);\r\n        }\r\n        this.safeX1 = x1;\r\n        this.safeX2 = x2;\r\n        for (var i = 0; i < 10; i++) {\r\n            if (i == x1 || i == x2) {\r\n                cc.find(i.toString(), this.redPipeParent).y = this.safePipeY;\r\n                cc.find(i.toString(), this.bluePipeParent).y = this.safePipeY;\r\n            }\r\n        }\r\n        this.isFirstRound = true;\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n            this.PrepareNextGame();\r\n        }, 4.5);\r\n\r\n    },\r\n\r\n    PrepareNextGame() {\r\n        if (!this.isFirstRound) {\r\n            this.RedPlayer.active = false;\r\n            this.BluePlayer.active = false;\r\n            var x1 = Math.floor(Math.random() * 10);\r\n            while (x1 == this.rPos || x1 == this.bPos) {\r\n                x1 = Math.floor(Math.random() * 10);\r\n            }\r\n            var x2 = Math.floor(Math.random() * 10);\r\n            while (x2 == this.rPos || x2 == this.bPos || x2 == x1) {\r\n                x2 = Math.floor(Math.random() * 10);\r\n            }\r\n            this.safeX1 = x1;\r\n            this.safeX2 = x2;\r\n            this.setYOffsets();\r\n            var rma = cc.moveTo(0.3, new cc.Vec2(0, this.pipeResetY));\r\n            this.redPipeParent.runAction(rma);\r\n            var bma = cc.moveTo(0.3, new cc.Vec2(0, this.pipeResetY));\r\n            this.bluePipeParent.runAction(bma);\r\n            for (var i = 0; i < 10; i++) {\r\n                if (i == x1 || i == x2) {\r\n                    var rppa = cc.moveTo(0.3, new cc.Vec2(cc.find(i.toString(), this.redPipeParent).x, this.safePipeY + this.yOffsets[i]));\r\n                    var bppa = cc.moveTo(0.3, new cc.Vec2(cc.find(i.toString(), this.bluePipeParent).x, this.safePipeY - this.yOffsets[i]));\r\n                    cc.find(i.toString(), this.redPipeParent).runAction(rppa);\r\n                    cc.find(i.toString(), this.bluePipeParent).runAction(bppa);\r\n                }\r\n                else {\r\n                    var rppa = cc.moveTo(0.3, new cc.Vec2(cc.find(i.toString(), this.redPipeParent).x, this.yOffsets[i]));\r\n                    var bppa = cc.moveTo(0.3, new cc.Vec2(cc.find(i.toString(), this.bluePipeParent).x, -this.yOffsets[i]));\r\n                    cc.find(i.toString(), this.redPipeParent).runAction(rppa);\r\n                    cc.find(i.toString(), this.bluePipeParent).runAction(bppa);\r\n                    // cc.find(i.toString(), this.redPipeParent).y = 0;\r\n                    // cc.find(i.toString(), this.bluePipeParent).y = 0;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.setYOffsets();\r\n        }\r\n        this.isFirstRound = false;\r\n        this.scheduleOnce(function () {\r\n            this.ShowBalls();\r\n            this.BlueRightBtn.getComponent(cc.Button).enabled = true;\r\n            this.BlueLeftBtn.getComponent(cc.Button).enabled = true;\r\n            this.redRightBtn.getComponent(cc.Button).enabled = true;\r\n            this.redLeftBtn.getComponent(cc.Button).enabled = true;\r\n        }, 0.3);\r\n        this.scheduleOnce(function () {\r\n            this.pushStart()\r\n        }, this.RoundInterval + 0.3);\r\n    },\r\n\r\n    setYOffsets() {\r\n        this.yOffsets = [];\r\n        if (this.isSecondAliveBattle) {\r\n            for (var i = 0; i < 10; i++) {\r\n                var tmp = Math.floor((Math.random() - 0.5) * 2 * this.maxOffsetY * this.safePipeY);\r\n                this.yOffsets.push(tmp);\r\n            }\r\n        }\r\n        else {\r\n\r\n            for (var i = 0; i < 10; i++) {\r\n                this.yOffsets.push(0);\r\n            }\r\n        }\r\n    },\r\n\r\n    pushStart() {\r\n        this.roundCount += 1;\r\n        this.RoundInterval -= this.roundCount * 0.15;\r\n        if (this.RoundInterval <= 0.7) {\r\n            this.RoundInterval = 0.7;\r\n        }\r\n        this.shakePipes(20, 5, 0.05, 1);\r\n        this.SoundMGR.playShake();\r\n        this.scheduleOnce(function () {\r\n            //push pipes\r\n            this.BlueRightBtn.getComponent(cc.Button).enabled = false;\r\n            this.BlueLeftBtn.getComponent(cc.Button).enabled = false;\r\n            this.redRightBtn.getComponent(cc.Button).enabled = false;\r\n            this.redLeftBtn.getComponent(cc.Button).enabled = false;\r\n            var rma = cc.moveTo(0.1, new cc.Vec2(0, this.pipePushY));\r\n            var bma = cc.moveTo(0.1, new cc.Vec2(0, this.pipePushY));\r\n            this.bluePipeParent.runAction(rma);\r\n            this.redPipeParent.runAction(bma);\r\n\r\n            this.RedFake.active = false;\r\n            this.BlueFake.active = false;\r\n            this.scheduleOnce(function () {\r\n                var isAlive = true;\r\n                if (this.rPos != this.safeX1 && this.rPos != this.safeX2) {//Red danger\r\n                    // this.RedPlayer.active = true;\r\n                    this.RedPlayer.y = this.deadY + this.yOffsets[this.rPos];\r\n                    this.RedPlayer.height = 10;\r\n                    this.isRedDead = true;\r\n                    isAlive = false;\r\n                    this.SoundMGR.playFart();\r\n                    // var rsa = cc.scaleTo(0.3, new cc.Vec2(1, 1));                \r\n                    // this.RedPlayer.runAction(rsa);\r\n                }\r\n                else {\r\n                    this.isRedDead = false;\r\n                }\r\n                if (this.bPos != this.safeX1 && this.bPos != this.safeX2) {//Blue danger\r\n                    // this.BluePlayer.active = true;\r\n                    this.BluePlayer.y = this.deadY - this.yOffsets[this.bPos];\r\n                    this.BluePlayer.height = 10;\r\n                    this.isBlueDead = true;\r\n                    this.SoundMGR.playFart();\r\n                    isAlive = false;\r\n                    // var bsa = cc.scaleTo(0.3, new cc.Vec2(1, 1));\r\n                    // this.BluePlayer.runAction(bsa);\r\n                }\r\n                else {\r\n                    this.isBlueDead = false;\r\n                }\r\n                if (isAlive) {\r\n                    this.SoundMGR.playPush2();\r\n                }\r\n            }, 0.05);\r\n        }, 1.1);\r\n\r\n        this.scheduleOnce(function () {\r\n            this.shakePipes(10, 5, 0.05, -1);\r\n        }, 1.25);\r\n\r\n        this.scheduleOnce(function () {\r\n            var isDraw = false;\r\n            if (this.isBlueDead && this.isRedDead) {\r\n                isDraw = true;\r\n\r\n                this.PrepareNextGame();\r\n            }\r\n            else if (!this.isBlueDead && !this.isRedDead) {\r\n                isDraw = true;\r\n                this.isSecondAliveBattle = true;\r\n                this.PrepareNextGame();\r\n            }\r\n            else {\r\n                if (this.isBlueDead) {\r\n                    this.GameStatus = 2;\r\n                    this.SoundMGR.playOver();\r\n                    Global.GameData.CurrentWinner = 0;\r\n                    this.GameResultNode.active = true;\r\n\r\n                }\r\n                else if (this.isRedDead) {\r\n                    this.GameStatus = 2;\r\n                    this.SoundMGR.playOver();\r\n                    Global.GameData.CurrentWinner = 1;\r\n                    this.GameResultNode.active = true;\r\n                }\r\n            }\r\n        }, 2);\r\n        // this.scheduleOnce(function () {\r\n        //     this.shakePipes(20, 3, 0.05, 1);\r\n        // }, this.RoundInterval);\r\n    },\r\n\r\n    shakePipes(shakeCount, shakeMaxOffset, shakeInterval, isReverse) {\r\n\r\n        if (isReverse == 1) {\r\n            var iflag = 1;\r\n            var orY = this.redPipeParent.y;\r\n            var obY = this.bluePipeParent.y;\r\n            var j = 0;\r\n            for (var i = 0; i < shakeCount; i++) {\r\n\r\n                this.scheduleOnce(function () {\r\n                    iflag *= -1;\r\n                    j += 1;\r\n                    cc.log(j);\r\n                    var rma = cc.moveTo(shakeInterval, new cc.Vec2(0, orY + (shakeMaxOffset * iflag * (j + 1) / shakeCount)));\r\n                    var bma = cc.moveTo(shakeInterval, new cc.Vec2(0, obY + (shakeMaxOffset * iflag * (j + 1) / shakeCount)));\r\n                    this.redPipeParent.runAction(rma);\r\n                    this.bluePipeParent.runAction(bma);\r\n\r\n                }, i * shakeInterval);\r\n            }\r\n        }\r\n        else {\r\n            var iflag = 1;\r\n            var orY = this.redPipeParent.y;\r\n            var obY = this.bluePipeParent.y;\r\n            var j = 0;\r\n            for (var i = 0; i < shakeCount; i++) {\r\n                cc.log(\"shake reverse\");\r\n                this.scheduleOnce(function () {\r\n                    iflag *= -1;\r\n                    j += 1;\r\n                    // cc.log((i));\r\n                    // cc.log(shakeMaxOffset * iflag * (shakeCount - i) / shakeCount);\r\n                    var rma = cc.moveTo(shakeInterval, new cc.Vec2(0, orY + (shakeMaxOffset * iflag * (shakeCount - j) / shakeCount)));\r\n                    var bma = cc.moveTo(shakeInterval, new cc.Vec2(0, obY + (shakeMaxOffset * iflag * (shakeCount - j) / shakeCount)));\r\n                    this.redPipeParent.runAction(rma);\r\n                    this.bluePipeParent.runAction(bma);\r\n\r\n                }, i * shakeInterval);\r\n            }\r\n        }\r\n    },\r\n\r\n    ShowBalls() {\r\n        this.setBallPos(0, this.rPos);\r\n        this.setBallPos(1, this.bPos);\r\n        this.RedPlayer.active = true;\r\n        this.BluePlayer.active = true;\r\n        this.RedFake.active = true;\r\n        this.BlueFake.active = true;\r\n        this.RedPlayer.opacity = 0;\r\n        this.BluePlayer.opacity = 0;\r\n        this.RedFake.opacity = 0;\r\n        this.BlueFake.opacity = 0;\r\n        this.BluePlayer.height = 104;\r\n        this.RedPlayer.height = 104;\r\n        var rboa = cc.fadeTo(0.3, 255);\r\n        var rfoa = cc.fadeTo(0.3, 120);\r\n        var bboa = cc.fadeTo(0.3, 255);\r\n        var bfoa = cc.fadeTo(0.3, 120);\r\n        this.RedPlayer.runAction(rboa);\r\n        this.BluePlayer.runAction(bboa);\r\n        this.RedFake.runAction(rfoa);\r\n        this.BlueFake.runAction(bfoa);\r\n    },\r\n\r\n    setBallPos(ballType, ballPos) {\r\n        if (ballType == 0)//red\r\n        {\r\n            this.RedPlayer.x = cc.find(ballPos.toString(), this.redPipeParent).x;\r\n            if (this.safeX1 != ballPos && this.safeX2 != ballPos) {\r\n                this.RedPlayer.y = this.outY + this.yOffsets[ballPos];\r\n            }\r\n            else {\r\n                this.RedPlayer.y = this.safeY + this.yOffsets[ballPos];\r\n            }\r\n            this.RedFake.x = cc.find(ballPos.toString(), this.bluePipeParent).x;\r\n            if (this.safeX1 != ballPos && this.safeX2 != ballPos) {\r\n                this.RedFake.y = this.outY - this.yOffsets[ballPos];\r\n            }\r\n            else {\r\n                this.RedFake.y = this.safeY - this.yOffsets[ballPos];\r\n            }\r\n\r\n        }\r\n        else {\r\n            this.BluePlayer.x = cc.find(ballPos.toString(), this.bluePipeParent).x;\r\n            if (this.safeX1 != ballPos && this.safeX2 != ballPos) {\r\n                this.BluePlayer.y = this.outY - this.yOffsets[ballPos];\r\n            }\r\n            else {\r\n                this.BluePlayer.y = this.safeY - this.yOffsets[ballPos];\r\n            }\r\n            this.BlueFake.x = cc.find(ballPos.toString(), this.redPipeParent).x;\r\n            if (this.safeX1 != ballPos && this.safeX2 != ballPos) {\r\n                this.BlueFake.y = this.outY + this.yOffsets[ballPos];\r\n            }\r\n            else {\r\n                this.BlueFake.y = this.safeY + this.yOffsets[ballPos];\r\n            }\r\n        }\r\n    },\r\n\r\n    onRedMove(event, customEventData) {\r\n        cc.log(\"red move:\" + customEventData);\r\n        if (customEventData == \"-1\") {\r\n            if (this.rPos > 0) {\r\n                if ((this.rPos - 1) != this.bPos) {\r\n                    this.rPos -= 1;\r\n                }\r\n                else if (this.rPos - 2 >= 0) {\r\n                    this.rPos -= 2;\r\n                }\r\n                this.setBallPos(0, this.rPos);\r\n            }\r\n        }\r\n        else {\r\n            if (this.rPos < 9) {\r\n                if ((this.rPos + 1) != this.bPos) {\r\n                    this.rPos += 1;\r\n                }\r\n                else if (this.rPos + 2 <= 9) {\r\n                    this.rPos += 2;\r\n                }\r\n                this.setBallPos(0, this.rPos);\r\n            }\r\n        }\r\n    },\r\n\r\n    onBlueMove(event, customEventData) {\r\n        if (customEventData == -1) {\r\n            if (this.bPos > 0) {\r\n                if ((this.bPos - 1) != this.rPos) {\r\n                    this.bPos -= 1;\r\n                }\r\n                else if (this.bPos - 2 >= 0) {\r\n                    this.bPos -= 2;\r\n                }\r\n                this.setBallPos(1, this.bPos);\r\n            }\r\n        }\r\n        else {\r\n            if (this.bPos < 9) {\r\n                if ((this.bPos + 1) != this.rPos) {\r\n                    this.bPos += 1;\r\n                }\r\n                else if (this.bPos + 2 <= 9) {\r\n                    this.bPos += 2;\r\n                }\r\n                this.setBallPos(1, this.bPos);\r\n            }\r\n        }\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}