{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\MainMenu/assets\\Scripts\\Control\\MainMenu\\MainMenuControl.js"],"names":["SoundManager","require","cc","Class","extends","Component","properties","SoundMGR","default","type","MaxSchedulerLabel","Label","RedPoint","BluePoint","GameIcons","Node","GameIconSprites","SpriteFrame","ScheduleSelectSprites","StartSprite","IsSelectPanelOn","SelectedGamePanel","SelectGameSwitch","GameListPanel","ScheduleGameParent","SoundBtn","SoundFxBtn","soundSprites","soundFxSprites","currentSelectedIndex","start","InitData","i","getChildByName","getComponent","string","Global","GameData","AllGames","displayName","PlayedGameCount","playTitleBGM","audioEngine","getMusicVolume","Sprite","spriteFrame","getEffectsVolume","toString","SetScheduler","onSoundSwitch","event","customEventData","log","setMusicVolume","onSoundFxSwitch","setEffectsVolume","MaxSchedulerCount","ScheduledGames","length","find","active","MaxChooseCount","tmpI","indexOf","color","Color","BLUE","WHITE","ORANGE","Button","enabled","GRAY","OnRemoveThisClick","tmpS","splice","OnClearClick","OnSelectGameClicked","action","moveBy","runAction","OnScheduledGameClicked","OnGameIconClicked","tmpIndex","push","OnScheduleStart","TotalGameCount","IsPlayForFun","ResultArray","LastSceneName","director","loadScene","OnPlayThisClick","OnCloseSelectedPanelButton","OnRoundSwitch"],"mappings":"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","file":"MainMenuControl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\MainMenu","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar SoundManager = require(\"SoundManager\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        MaxSchedulerLabel:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        RedPoint:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        BluePoint:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        GameIcons:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n\r\n        },\r\n        GameIconSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        ScheduleSelectSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        StartSprite:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        IsSelectPanelOn:\r\n        {\r\n            default: false,\r\n        },\r\n        SelectedGamePanel:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SelectGameSwitch:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        GameListPanel:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        ScheduleGameParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SoundBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SoundFxBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        soundSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        soundFxSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        currentSelectedIndex: -1,\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.InitData();\r\n\r\n    },\r\n\r\n    InitData: function () {\r\n        //初始化游戏图标\r\n        for (var i = 0; i < 8; i++) {\r\n            this.GameIcons[i].getChildByName(\"Name\").getComponent(cc.Label).string = Global.GameData.AllGames[i].displayName;\r\n        }\r\n        Global.GameData.PlayedGameCount = 0;\r\n        this.SoundMGR.playTitleBGM();\r\n        if (cc.audioEngine.getMusicVolume() > 0) {\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[1];\r\n        }\r\n        else {\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[0];\r\n        }\r\n        if (cc.audioEngine.getEffectsVolume() > 0) {\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[1];\r\n        }\r\n        else {\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[0];\r\n        }\r\n        this.RedPoint.string = Global.GameData.RedPoint.toString();\r\n        this.BluePoint.string = Global.GameData.BluePoint.toString();\r\n        this.SetScheduler();\r\n    },\r\n\r\n    onSoundSwitch(event, customEventData) {\r\n        cc.log(cc.audioEngine.getMusicVolume());\r\n        if (cc.audioEngine.getMusicVolume() > 0) {\r\n            cc.audioEngine.setMusicVolume(0.0);\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[0];\r\n        }\r\n        else {\r\n            cc.audioEngine.setMusicVolume(1);\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[1];\r\n        }\r\n    },\r\n\r\n    onSoundFxSwitch(event, customEventData) {\r\n        if (cc.audioEngine.getEffectsVolume() > 0) {\r\n            cc.audioEngine.setEffectsVolume(0);\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[0];\r\n        }\r\n        else {\r\n            cc.audioEngine.setEffectsVolume(1);\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[1];\r\n        }\r\n\r\n    },\r\n    //设置排上日程的游戏列表\r\n    SetScheduler: function () {\r\n        cc.log(\"Setting Scheduler\");\r\n        this.MaxSchedulerLabel.string = Global.GameData.MaxSchedulerCount;\r\n        //设置已选\r\n        for (var i = 0; i < Global.GameData.ScheduledGames.length; i++) {\r\n            //设置底部游戏列表\r\n            // cc.find(\"List/\" + Global.GameData.ScheduledGames[i].toString() + \"/Mark\", this.GameListPanel).active = true;\r\n            // cc.find(\"List/\" + Global.GameData.ScheduledGames[i].toString() + \"/Name\", this.GameListPanel).color = new cc.color(255, 255, 255, 255);\r\n\r\n            //设置中部游戏日程表\r\n\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.GameIconSprites[Global.GameData.ScheduledGames[i]];\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).getComponent(cc.Label).string = Global.GameData.AllGames[Global.GameData.ScheduledGames[i]].displayName;\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).active = true;\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).active = true;\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.ScheduleSelectSprites[0];\r\n\r\n        }\r\n        //设置未选\r\n        for (var i = Global.GameData.ScheduledGames.length; i < Global.GameData.MaxChooseCount; i++) {\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).active = false;\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).active = false;\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.ScheduleSelectSprites[1];\r\n        }\r\n        cc.log(\"Plan Game:\");\r\n        for (var i = 0; i < Global.GameData.ScheduledGames.length; i++) {\r\n            cc.log(Global.GameData.ScheduledGames[i]);\r\n        }\r\n        for (var i = 0; i < 8; i++) {\r\n            var tmpI = Global.GameData.ScheduledGames.indexOf(i.toString());\r\n            if (tmpI == -1) {\r\n                cc.log(\"Game\" + i + \"Not In\");\r\n                cc.find(\"List/\" + i.toString() + \"/Mark\", this.GameListPanel).active = false;\r\n                cc.find(\"List/\" + i.toString() + \"/Name\", this.GameListPanel).color = cc.Color.BLUE;\r\n            }\r\n            else {\r\n                cc.log(\"Game\" + i + \"In\");\r\n                cc.find(\"List/\" + i.toString() + \"/Mark\", this.GameListPanel).active = true;\r\n                cc.find(\"List/\" + i.toString() + \"/Name\", this.GameListPanel).color = cc.Color.WHITE;\r\n            }\r\n        }\r\n        //验证是否满足开始条件\r\n        if (Global.GameData.ScheduledGames.length >= Global.GameData.MaxSchedulerCount) {\r\n            this.StartSprite.color = cc.Color.ORANGE;\r\n            this.StartSprite.getComponent(cc.Button).enabled = true;\r\n        }\r\n        else {\r\n            this.StartSprite.color = cc.Color.GRAY;\r\n            this.StartSprite.getComponent(cc.Button).enabled = false;\r\n        }\r\n\r\n    },\r\n    OnRemoveThisClick(event, customEventData) {\r\n        var tmpS = Global.GameData.ScheduledGames.indexOf(this.currentSelectedIndex.toString());\r\n        Global.GameData.ScheduledGames.splice(tmpS, 1);\r\n        this.SetScheduler();\r\n        this.SelectedGamePanel.active = false;\r\n    },\r\n    OnClearClick(event, customEventData) {\r\n        Global.GameData.ScheduledGames = [];\r\n        this.SetScheduler();\r\n    },\r\n    //下方游戏列表单元点击\r\n    OnSelectGameClicked(event, customEventData) {\r\n        if (this.IsSelectPanelOn) {\r\n            var action = cc.moveBy(0.3, 0, -300);\r\n            this.GameListPanel.getChildByName(\"Mask\").active = false;\r\n            this.GameListPanel.runAction(action);\r\n            this.IsSelectPanelOn = false;\r\n            this.SelectGameSwitch.getChildByName(\"Label\").getComponent(cc.Label).string = \"选择游戏\";\r\n        }\r\n        else {\r\n            var action = cc.moveBy(0.3, 0, 300);\r\n            this.GameListPanel.getChildByName(\"Mask\").active = true;\r\n            this.GameListPanel.runAction(action);\r\n            this.IsSelectPanelOn = true;\r\n            this.SelectGameSwitch.getChildByName(\"Label\").getComponent(cc.Label).string = \"我选好了\";\r\n        }\r\n    },\r\n\r\n    //已安排游戏点击\r\n    OnScheduledGameClicked(event, customEventData) {\r\n        this.currentSelectedIndex = Global.GameData.ScheduledGames[customEventData];\r\n        this.SelectedGamePanel.active = true;\r\n        cc.find(\"IconPanel/Icon\", this.SelectedGamePanel).getComponent(cc.Sprite).spriteFrame = this.GameIconSprites[this.currentSelectedIndex];\r\n        cc.find(\"SelectedGameName\", this.SelectedGamePanel).getComponent(cc.Label).string = Global.GameData.AllGames[this.currentSelectedIndex].displayName;\r\n    },\r\n\r\n    OnGameIconClicked(event, customEventData) {\r\n        cc.log(customEventData);\r\n        if (this.IsSelectPanelOn) {\r\n            var tmpIndex = Global.GameData.ScheduledGames.indexOf(customEventData);\r\n            if (customEventData <= 7) //没完工的游戏先不往上放\r\n            {\r\n                if (Global.GameData.ScheduledGames.length < Global.GameData.MaxChooseCount ) {//还可以接着选\r\n                    if (tmpIndex == -1 && Global.GameData.ScheduledGames.length < Global.GameData.MaxSchedulerCount) //原先没有就加\r\n                    {\r\n                        Global.GameData.ScheduledGames.push(customEventData);\r\n                    }\r\n                    else//原先有就删\r\n                    {\r\n                        Global.GameData.ScheduledGames.splice(tmpIndex, 1);\r\n                    }\r\n                    this.SetScheduler();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n\r\n        }\r\n    },\r\n    OnScheduleStart(event, customEventData) {\r\n        Global.GameData.TotalGameCount = Global.GameData.MaxSchedulerCount;\r\n        Global.GameData.IsPlayForFun = false;\r\n        Global.GameData.ResultArray = [];\r\n        Global.GameData.LastSceneName = \"GameScene\" + Global.GameData.ScheduledGames[0].toString();\r\n        cc.director.loadScene(\"GameScene\" + Global.GameData.ScheduledGames[0].toString());\r\n    },\r\n    OnPlayThisClick(event, customEventData) {\r\n        Global.GameData.TotalGameCount = 7;\r\n        Global.GameData.IsPlayForFun = true;\r\n        Global.GameData.ResultArray = [];\r\n        Global.GameData.LastSceneName = \"GameScene\" + this.currentSelectedIndex.toString();\r\n        cc.director.loadScene(\"GameScene\" + this.currentSelectedIndex.toString());\r\n    },\r\n\r\n    OnCloseSelectedPanelButton(event, customEventData) {\r\n        this.SelectedGamePanel.active = false;\r\n\r\n    },\r\n\r\n    OnRoundSwitch(event, customEventData) {\r\n        if (customEventData == 1) {\r\n            if (Global.GameData.MaxSchedulerCount <= 5) {\r\n                Global.GameData.MaxSchedulerCount += 2;\r\n            }\r\n        }\r\n        // else {\r\n        //     if (Global.GameData.MaxSchedulerCount >= 5) {\r\n        //         Global.GameData.MaxSchedulerCount -= 2;\r\n        //     }\r\n        // }\r\n        this.SetScheduler();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}