{"version":3,"sources":["Game20Control.js"],"names":["SoundManager","require","MySpriteNumber","cc","Class","extends","Component","properties","SoundMGR","default","type","GameResultNode","Node","CountDownNode","PauseNode","bBallParent","rBallParent","redSign","blueSign","redSprites","SpriteFrame","blueSprites","redScoreNumber","blueScoreNumber","GameStatus","scaleSpeed","isRedTouching","isBlueTouching","currentTouchRed","currentTouchBlue","rScore","bScore","start","startAnimation","scheduleOnce","active","showNewBall","colorIndex","totalCount","Math","floor","random","currentCount","i","find","obj","tempI","length","tempX","tempY","getComponent","Sprite","spriteFrame","scale","Vec2","position","update","dt","tmpSx","scaleX","AddScore","tmpx","setNumber","playScore","playOver","Global","GameData","CurrentWinner","onBallTouch","ballName","indexOf","onBallRelease"],"mappings":"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","file":"Game20Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game20","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar SoundManager = require(\"SoundManager\");\r\nvar MySpriteNumber = require(\"MySpriteNumber\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        bBallParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        rBallParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        redSign:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        blueSign:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        redSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        blueSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        redScoreNumber:\r\n        {\r\n            default: null,\r\n            type: MySpriteNumber,\r\n        },\r\n\r\n        blueScoreNumber:\r\n        {\r\n            default: null,\r\n            type: MySpriteNumber,\r\n        },\r\n        GameStatus: 0,\r\n        scaleSpeed: 1,\r\n        isRedTouching: false,\r\n        isBlueTouching: false,\r\n        currentTouchRed: \"\",\r\n        currentTouchBlue: \"\",\r\n        rScore: 0,\r\n        bScore: 0,\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n\r\n\r\n    start() {\r\n        this.startAnimation();\r\n\r\n    },\r\n\r\n    startAnimation() {\r\n\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n            this.showNewBall(0);\r\n            this.showNewBall(1);\r\n        }, 4.5);\r\n\r\n    },\r\n\r\n    showNewBall(colorIndex) {\r\n        if (colorIndex == 0) //red\r\n        {\r\n            //随机生成1-2个\r\n            var totalCount = Math.floor(Math.random() * 2) + 1;\r\n            var currentCount = 0;\r\n            for (var i = 0; i < 3; i++) {\r\n                if (cc.find(\"r\" + i, this.rBallParent).active != true) {\r\n                    var obj = cc.find(\"r\" + i, this.rBallParent);\r\n                    var tempI = Math.floor(Math.random() * this.redSprites.length);\r\n                    var tempX = (Math.random() * 2 - 1) * 250;\r\n                    var tempY = (Math.random() * 2 - 1) * 200;\r\n                    obj.getComponent(cc.Sprite).spriteFrame = this.redSprites[tempI];\r\n                    obj.scale = new cc.Vec2(1, 1);\r\n                    obj.position = new cc.Vec2(tempX, tempY);\r\n                    obj.active = true;\r\n                    currentCount += 1;\r\n                    if (currentCount >= totalCount) {\r\n                        break;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var totalCount = Math.floor(Math.random() * 2) + 1;\r\n            var currentCount = 0;\r\n            for (var i = 0; i < 3; i++) {\r\n                if (cc.find(\"b\" + i, this.bBallParent).active != true) {\r\n                    var obj = cc.find(\"b\" + i, this.bBallParent);\r\n                    var tempI = Math.floor(Math.random() * this.blueSprites.length);\r\n                    var tempX = (Math.random() * 2 - 1) * 250;\r\n                    var tempY = (Math.random() * 2 - 1) * 200;\r\n                    obj.getComponent(cc.Sprite).spriteFrame = this.blueSprites[tempI];\r\n                    obj.scale = new cc.Vec2(1, 1);\r\n                    obj.position = new cc.Vec2(tempX, tempY);\r\n                    obj.active = true;\r\n                    currentCount += 1;\r\n                    if (currentCount >= totalCount) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    update(dt) {\r\n        if (this.GameStatus == 1) {\r\n\r\n            if (this.isRedTouching) {\r\n                var tmpSx = cc.find(this.currentTouchRed, this.rBallParent).scaleX;\r\n                tmpSx -= this.scaleSpeed * dt;\r\n                if (tmpSx <= 0) {\r\n                    tmpSx = 0;\r\n                    this.redSign.active = false;\r\n                    cc.find(this.currentTouchRed, this.rBallParent).active = false;\r\n                    this.isRedTouching = false;\r\n                    this.currentTouchRed = \"\";\r\n                    this.AddScore(0);\r\n                    this.showNewBall(0);\r\n                }\r\n                else {\r\n                    this.redSign.position = cc.find(this.currentTouchRed, this.rBallParent).position;\r\n                    cc.find(this.currentTouchRed, this.rBallParent).scale = new cc.Vec2(tmpSx, tmpSx);\r\n                    this.redSign.scale = new cc.Vec2(tmpSx, tmpSx);\r\n                    this.redSign.active = true;\r\n                }\r\n            }\r\n            else {\r\n                for (var i = 0; i < 3; i++) {\r\n                    var obj = cc.find(\"r\" + i, this.rBallParent);\r\n                    if (obj.active) {\r\n                        if (obj.scaleX <= 0.5 && obj.scaleX > 0) {\r\n                            var tmpx = obj.scaleX;\r\n                            tmpx -= this.scaleSpeed * dt;\r\n                            if (tmpx <= 0) {\r\n                                tmpx = 0;\r\n                                this.AddScore(0);\r\n                                obj.active = false;\r\n                                this.showNewBall(0);\r\n                            }\r\n                            else {\r\n                                obj.scale = new cc.Vec2(tmpx, tmpx);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.isBlueTouching) {\r\n                var tmpSx = cc.find(this.currentTouchBlue, this.bBallParent).scaleX;\r\n                tmpSx -= this.scaleSpeed * dt;\r\n                if (tmpSx <= 0) {\r\n                    tmpSx = 0;\r\n                    this.blueSign.active = false;\r\n                    cc.find(this.currentTouchBlue, this.bBallParent).active = false;\r\n                    this.isBlueTouching = false;\r\n                    this.currentTouchBlue = \"\";\r\n                    this.AddScore(1);\r\n                    this.showNewBall(1);\r\n                }\r\n                else {\r\n                    this.blueSign.position = cc.find(this.currentTouchBlue, this.bBallParent).position;\r\n                    cc.find(this.currentTouchBlue, this.bBallParent).scale = new cc.Vec2(tmpSx, tmpSx);\r\n                    this.blueSign.scale = new cc.Vec2(tmpSx, tmpSx);\r\n                    this.blueSign.active = true;\r\n                }\r\n            }\r\n            else {\r\n                for (var i = 0; i < 3; i++) {\r\n                    var obj = cc.find(\"b\" + i, this.bBallParent);\r\n                    if (obj.active) {\r\n                        if (obj.scaleX <= 0.5 && obj.scaleX > 0) {\r\n                            var tmpx = obj.scaleX;\r\n                            tmpx -= this.scaleSpeed * dt;\r\n                            if (tmpx <= 0) {\r\n                                tmpx = 0;\r\n                                obj.active = false;\r\n                                this.AddScore(1);\r\n                                this.showNewBall(1);\r\n                            }\r\n                            else {\r\n                                obj.scale = new cc.Vec2(tmpx, tmpx);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    AddScore(colorIndex) {\r\n        if (colorIndex == 0)//red\r\n        {\r\n            this.rScore += 1;\r\n            this.redScoreNumber.setNumber(this.rScore);\r\n            this.SoundMGR.playScore();\r\n            if (this.rScore >= 10) {\r\n                this.GameStatus = 2;\r\n                this.SoundMGR.playOver();\r\n                Global.GameData.CurrentWinner = 0;\r\n                this.GameResultNode.active = true;\r\n            }\r\n        }\r\n        else {\r\n            this.bScore += 1;\r\n            this.blueScoreNumber.setNumber(this.bScore);\r\n            this.SoundMGR.playScore();\r\n            if (this.bScore >= 10) {\r\n                this.GameStatus = 2;\r\n                this.SoundMGR.playOver();\r\n                Global.GameData.CurrentWinner = 1;\r\n                this.GameResultNode.active = true;\r\n            }\r\n        }\r\n    },\r\n\r\n    onBallTouch(ballName) {\r\n        if (ballName.indexOf(\"r\") != -1) {// red touch\r\n            this.isRedTouching = true;\r\n            this.currentTouchRed = ballName;\r\n        }\r\n        else {\r\n            this.isBlueTouching = true;\r\n            this.currentTouchBlue = ballName;\r\n        }\r\n    },\r\n\r\n    onBallRelease(ballName) {\r\n        if (ballName.indexOf(\"r\") != -1) {\r\n            this.isRedTouching = false;\r\n            this.currentTouchRed = \"\";\r\n            this.redSign.active = false;\r\n        }\r\n        else {\r\n            this.isBlueTouching = false;\r\n            this.currentTouchBlue = \"\";\r\n            this.blueSign.active = false;\r\n        }\r\n\r\n    },\r\n\r\n});\r\n"]}