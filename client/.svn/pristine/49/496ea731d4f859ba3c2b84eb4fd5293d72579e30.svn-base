{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\MainMenu/assets\\Scripts\\Control\\MainMenu\\MainMenuControl.js"],"names":["SoundManager","require","MoveRepeat","cc","Class","extends","Component","properties","SoundMGR","default","type","MaxSchedulerLabel","Label","RedPoint","BluePoint","SchedulerLabel","GameIcons","Node","GameIconSprites","SpriteFrame","ScheduleSelectSprites","StartSprite","IsSelectPanelOn","SelectedGamePanel","SelectGameSwitch","GameListPanel","ScheduleGameParent","SoundBtn","SoundFxBtn","FillOrRandomBtn","SelectGameWarn","StartGameWarn","soundSprites","soundFxSprites","schedulerGameBGSprites","schedulerGameBG","currentSelectedIndex","lastClickPointBGTime","AdsObj","onLoad","start","InitData","i","Global","GameData","MaxFinishedCount","getChildByName","getComponent","string","AllGames","displayName","PlayedGameCount","playTitleBGM","audioEngine","getMusicVolume","Sprite","spriteFrame","getEffectsVolume","toString","PageView","enabled","SetScheduler","nowTime","Date","expireTime","CC_WECHATGAME","console","log","getFullYear","getMonth","getDate","active","onClickAds","event","customEventData","wx","navigateToMiniProgram","appId","success","res","onCloseAdsClick","onSoundSwitch","setMusicVolume","onSoundFxSwitch","setEffectsVolume","CurrentGameType","length","SGame1","indexOf","USGame1","push","splice","ScheduledGames","UnScheduledGames","SGame2","USGame2","MaxSchedulerCount","find","Button","opacity","MaxChooseCount","pIndex","Math","floor","tmpI","color","Color","WHITE","scheduleOnce","ShowStartGameWarn","GRAY","ShowSelectGameWarn","OnPointBGClick","date","t","getTime","OnRemoveThisClick","tmpS","OnFillOrRandomClick","tr","random","ti","targetI","tmp","OnClearClick","OnSelectGameClicked","action","moveBy","aa","fadeTo","runAction","node","onTabChangeClick","OnScheduledGameClicked","OnGameIconClicked","tmpIndex","OnScheduleStart","TotalGameCount","IsPlayForFun","ResultArray","LastSceneName","director","loadScene","OnPlayThisClick","OnCloseSelectedPanelButton","OnRoundSwitch","oa","moveStart"],"mappings":"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","file":"MainMenuControl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\MainMenu","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar SoundManager = require(\"SoundManager\");\r\nvar MoveRepeat = require(\"MoveRepeat\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        MaxSchedulerLabel:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        RedPoint:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        BluePoint:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        SchedulerLabel:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        GameIcons:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n\r\n        },\r\n        GameIconSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        ScheduleSelectSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        StartSprite:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        IsSelectPanelOn:\r\n        {\r\n            default: false,\r\n        },\r\n        SelectedGamePanel:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SelectGameSwitch:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        GameListPanel:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        ScheduleGameParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SoundBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SoundFxBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        FillOrRandomBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SelectGameWarn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        StartGameWarn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        soundSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        soundFxSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        schedulerGameBGSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        schedulerGameBG:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        currentSelectedIndex: -1,\r\n        lastClickPointBGTime: 0,\r\n        AdsObj:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n\r\n        //开启右上角的分享\r\n\r\n        //监听右上角的分享调用 \r\n\r\n\r\n\r\n\r\n    },\r\n\r\n    start() {\r\n        this.InitData();\r\n\r\n    },\r\n\r\n    InitData: function () {\r\n        //初始化游戏图标\r\n        for (var i = 0; i < Global.GameData.MaxFinishedCount; i++) {\r\n            this.GameIcons[i].getChildByName(\"Name\").getComponent(cc.Label).string = Global.GameData.AllGames[i].displayName;\r\n        }\r\n        Global.GameData.PlayedGameCount = 0;\r\n        this.SoundMGR.playTitleBGM();\r\n        if (cc.audioEngine.getMusicVolume() > 0) {\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[1];\r\n        }\r\n        else {\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[0];\r\n        }\r\n        if (cc.audioEngine.getEffectsVolume() > 0) {\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[1];\r\n        }\r\n        else {\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[0];\r\n        }\r\n        this.RedPoint.string = Global.GameData.RedPoint.toString();\r\n        this.BluePoint.string = Global.GameData.BluePoint.toString();\r\n        this.GameListPanel.getComponent(cc.PageView).enabled = false;\r\n        this.SetScheduler();\r\n        var nowTime = new Date();\r\n        var expireTime = new Date(\"2018-12-09 00:00:00\");\r\n        if (CC_WECHATGAME) {\r\n            console.log(\"expire:\" + expireTime);\r\n            console.log(\"y:\" + nowTime.getFullYear() + \" m:\" + nowTime.getMonth() + \" d:\" + nowTime.getDate());\r\n            console.log(\"y:\" + expireTime.getFullYear() + \" m:\" + expireTime.getMonth() + \" d:\" + expireTime.getDate());\r\n        }\r\n\r\n        if (nowTime.getFullYear() > expireTime.getFullYear()) {\r\n            this.AdsObj.active = false;\r\n        }\r\n        else if (nowTime.getFullYear() == expireTime.getFullYear()) {\r\n            if (nowTime.getMonth() > expireTime.getMonth()) {\r\n                this.AdsObj.active = false;\r\n            }\r\n            else if (nowTime.getMonth() == expireTime.getMonth()) {\r\n                if (nowTime.getDate() >= expireTime.getDate()) {\r\n                    this.AdsObj.active = false;\r\n                }\r\n                else {\r\n                    this.AdsObj.active = true;\r\n                }\r\n            }\r\n            else {\r\n                this.AdsObj.active = true;\r\n            }\r\n        }\r\n        else {\r\n            this.AdsObj.active = true;\r\n        }\r\n    },\r\n\r\n    onClickAds(event, customEventData) {\r\n        if (CC_WECHATGAME) {\r\n            wx.navigateToMiniProgram({\r\n                appId: 'wx547cd239ca4dc032',\r\n                success(res) {\r\n                    this.AdsObj.active = false;\r\n                }\r\n            })\r\n        }\r\n    },\r\n\r\n    onCloseAdsClick(event, customEventData) {\r\n\r\n        this.AdsObj.active = false;\r\n\r\n    },\r\n\r\n    onSoundSwitch(event, customEventData) {\r\n        cc.log(cc.audioEngine.getMusicVolume());\r\n        if (cc.audioEngine.getMusicVolume() > 0) {\r\n            cc.audioEngine.setMusicVolume(0.0);\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[0];\r\n        }\r\n        else {\r\n            cc.audioEngine.setMusicVolume(1);\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[1];\r\n        }\r\n    },\r\n\r\n    onSoundFxSwitch(event, customEventData) {\r\n        if (cc.audioEngine.getEffectsVolume() > 0) {\r\n            cc.audioEngine.setEffectsVolume(0);\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[0];\r\n        }\r\n        else {\r\n            cc.audioEngine.setEffectsVolume(1);\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[1];\r\n        }\r\n\r\n    },\r\n    //设置排上日程的游戏列表\r\n    SetScheduler: function () {\r\n        if (Global.GameData.CurrentGameType == 1) {\r\n            for (var i = 0; i < Global.GameData.AllGames.length; i++) {\r\n                if (Global.GameData.SGame1.indexOf(i.toString()) == -1) {//如果未安排，且不在未安排列表里，添加到未安排列表里\r\n                    if (Global.GameData.USGame1.indexOf(i.toString()) == -1) {\r\n                        Global.GameData.USGame1.push(i.toString());\r\n                    }\r\n                }\r\n                else {\r\n                    if (Global.GameData.USGame1.indexOf(i.toString()) != -1) {//如果已安排，且在未安排列表里，从未安排列表里移除\r\n                        Global.GameData.USGame1.splice(Global.GameData.USGame1.indexOf(i.toString()), 1);\r\n                    }\r\n                }\r\n            }\r\n            Global.GameData.ScheduledGames = Global.GameData.SGame1;\r\n            Global.GameData.UnScheduledGames = Global.GameData.USGame1;\r\n        }\r\n        else if (Global.GameData.CurrentGameType == 2) {\r\n            for (var i = 0; i < Global.GameData.AllGames.length; i++) {\r\n                if (Global.GameData.SGame2.indexOf(i.toString()) == -1) {//如果未安排，且不在未安排列表里，添加到未安排列表里\r\n                    if (Global.GameData.USGame2.indexOf(i.toString()) == -1) {\r\n                        Global.GameData.USGame2.push(i.toString());\r\n                    }\r\n                }\r\n                else {\r\n                    if (Global.GameData.USGame2.indexOf(i.toString()) != -1) {//如果已安排，且在未安排列表里，从未安排列表里移除\r\n                        Global.GameData.USGame2.splice(Global.GameData.USGame2.indexOf(i.toString()), 1);\r\n                    }\r\n                }\r\n            }\r\n            Global.GameData.ScheduledGames = Global.GameData.SGame2;\r\n            Global.GameData.UnScheduledGames = Global.GameData.USGame2;\r\n        }\r\n        else {\r\n\r\n        }\r\n\r\n        this.MaxSchedulerLabel.string = Global.GameData.MaxSchedulerCount;\r\n        //设置已选\r\n        for (var i = 0; i < Global.GameData.ScheduledGames.length; i++) {\r\n            //设置底部游戏列表\r\n\r\n            //设置中部游戏日程表\r\n            if (i < Global.GameData.MaxSchedulerCount) {\r\n                cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = true;\r\n                cc.find(i.toString(), this.ScheduleGameParent).opacity = 255;\r\n            }\r\n            else {\r\n                // cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = false;\r\n                cc.find(i.toString(), this.ScheduleGameParent).opacity = 120;\r\n            }\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.GameIconSprites[Global.GameData.ScheduledGames[i]];\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).getComponent(cc.Label).string = Global.GameData.AllGames[Global.GameData.ScheduledGames[i]].displayName;\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).active = true;\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).active = true;\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.ScheduleSelectSprites[0];\r\n\r\n        }\r\n        //设置未选\r\n        for (var i = Global.GameData.ScheduledGames.length; i < Global.GameData.MaxChooseCount; i++) {\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).active = false;\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).active = false;\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.ScheduleSelectSprites[1];\r\n        }\r\n\r\n        for (var i = 0; i < Global.GameData.MaxSchedulerCount; i++) {\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = true;\r\n\r\n        }\r\n\r\n        for (var i = Global.GameData.MaxSchedulerCount; i < Global.GameData.MaxChooseCount; i++) {\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = false;\r\n\r\n        }\r\n        for (var i = 0; i < Global.GameData.MaxFinishedCount; i++) {\r\n            var pIndex = Math.floor(i / 12);\r\n            var tmpI = Global.GameData.ScheduledGames.indexOf(i.toString());\r\n            if (tmpI == -1) {\r\n                cc.log(\"Game\" + i + \"Not In\");\r\n                cc.find(\"View/Content/List\" + pIndex.toString() + \"/\" + i.toString() + \"/Mark\", this.GameListPanel).active = false;\r\n                cc.find(\"View/Content/List\" + pIndex.toString() + \"/\" + i.toString() + \"/Name\", this.GameListPanel).color = new cc.Color(0, 89, 136, 255);\r\n            }\r\n            else {\r\n                cc.log(\"Game\" + i + \"In\");\r\n                cc.find(\"View/Content/List\" + pIndex.toString() + \"/\" + i.toString() + \"/Mark\", this.GameListPanel).active = true;\r\n                cc.find(\"View/Content/List\" + pIndex.toString() + \"/\" + i.toString() + \"/Name\", this.GameListPanel).color = cc.Color.WHITE;\r\n            }\r\n        }\r\n        this.SchedulerLabel.string = Global.GameData.ScheduledGames.length + \"/\" + Global.GameData.MaxChooseCount;\r\n        //验证是否满足开始条件\r\n        if (Global.GameData.ScheduledGames.length >= Global.GameData.MaxSchedulerCount) {\r\n            this.StartSprite.color = new cc.Color(255, 100, 27, 255);\r\n            this.StartSprite.getComponent(cc.Button).enabled = true;\r\n            this.SelectGameWarn.active = false;\r\n            this.scheduleOnce(function () {\r\n\r\n                if (!this.StartGameWarn.active && Global.GameData.ScheduledGames.length >= Global.GameData.MaxSchedulerCount && !this.IsSelectPanelOn) {\r\n                    this.ShowStartGameWarn();\r\n                }\r\n            }, 2);\r\n        }\r\n        else {\r\n            this.StartSprite.color = cc.Color.GRAY;\r\n            this.StartSprite.getComponent(cc.Button).enabled = false;\r\n            this.StartGameWarn.active = false;\r\n            this.scheduleOnce(function () {\r\n                if (!this.SelectGameWarn.active && Global.GameData.ScheduledGames.length < Global.GameData.MaxSchedulerCount && !this.IsSelectPanelOn) {\r\n                    this.ShowSelectGameWarn();\r\n                }\r\n            }, 2);\r\n        }\r\n\r\n        if (Global.GameData.ScheduledGames.length < Global.GameData.MaxChooseCount) {\r\n            cc.find(\"Label\", this.FillOrRandomBtn).getComponent(cc.Label).string = \"填满\";\r\n        }\r\n        else {\r\n            cc.find(\"Label\", this.FillOrRandomBtn).getComponent(cc.Label).string = \"重排\";\r\n        }\r\n    },\r\n\r\n    OnPointBGClick(event, customEventData) {\r\n        var date = new Date();\r\n        var t = date.getTime();\r\n        if (t - this.lastClickPointBGTime <= 600) {\r\n            cc.log(\"Double Click\");\r\n            Global.GameData.RedPoint = 0;\r\n            Global.GameData.BluePoint = 0;\r\n            this.RedPoint.string = Global.GameData.RedPoint.toString();\r\n            this.BluePoint.string = Global.GameData.BluePoint.toString();\r\n            this.lastClickPointBGTime = 0;\r\n        }\r\n        else {\r\n            this.lastClickPointBGTime = t;\r\n        }\r\n    },\r\n\r\n    OnRemoveThisClick(event, customEventData) {\r\n        if (Global.GameData.CurrentGameType == 1) {\r\n            var tmpS = Global.GameData.SGame1.indexOf(this.currentSelectedIndex.toString());\r\n            Global.GameData.SGame1.splice(tmpS, 1);\r\n        }\r\n        else if (Global.GameData.CurrentGameType == 2) {\r\n            var tmpS = Global.GameData.SGame2.indexOf(this.currentSelectedIndex.toString());\r\n            Global.GameData.SGame2.splice(tmpS, 1);\r\n        }\r\n        else {\r\n\r\n        }\r\n        this.SetScheduler();\r\n        this.SelectedGamePanel.active = false;\r\n    },\r\n\r\n    OnFillOrRandomClick(event, customEventData) {\r\n        if (Global.GameData.CurrentGameType == 1) {\r\n            if (Global.GameData.SGame1.length < Global.GameData.MaxChooseCount) {//填满操作，随机填满\r\n                for (var i = Global.GameData.SGame1.length; i < Global.GameData.MaxChooseCount; i++) {\r\n                    cc.log(\"Scheduler:\" + Global.GameData.SGame1 + \" UnS:\" + Global.GameData.USGame1);\r\n                    var tr = Math.floor(Math.random() * Global.GameData.USGame1.length);\r\n                    var ti = Global.GameData.USGame1[tr];\r\n                    Global.GameData.SGame1.push(ti.toString());\r\n                    Global.GameData.USGame1.splice(tr, 1);\r\n                }\r\n                // for (var i = 0; i < Global.GameData.MaxFinishedCount; i++) {\r\n\r\n                //     var tmpIndex = Global.GameData.ScheduledGames.indexOf(i.toString());\r\n                //     if (tmpIndex == -1) {\r\n                //         Global.GameData.ScheduledGames.push(i.toString());\r\n                //         if (Global.GameData.ScheduledGames.length >= Global.GameData.MaxChooseCount) {\r\n                //             break;\r\n                //         }\r\n                //     }\r\n                // }\r\n            }\r\n            else {//重排操作\r\n                cc.log(\"rerange before:\" + Global.GameData.SGame1);\r\n                for (var i = 0; i < Global.GameData.SGame1.length; i++) {\r\n                    var targetI = Math.floor(Math.random() * (Global.GameData.SGame1.length - 1));\r\n                    var tmp = Global.GameData.SGame1[i];\r\n                    cc.log(\"ti:\" + targetI + \" tmpV:\" + tmp + \" i:\" + i + \" targetV:\" + Global.GameData.SGame1[targetI]);\r\n                    Global.GameData.SGame1[i] = Global.GameData.SGame1[targetI];\r\n                    Global.GameData.SGame1[targetI] = tmp;\r\n                }\r\n                cc.log(\"rerange after:\" + Global.GameData.SGame1);\r\n            }\r\n        }\r\n        else if (Global.GameData.CurrentGameType == 2) {\r\n            if (Global.GameData.SGame2.length < Global.GameData.MaxChooseCount) {//填满操作，随机填满\r\n                for (var i = Global.GameData.SGame2.length; i < Global.GameData.MaxChooseCount; i++) {\r\n                    cc.log(\"Scheduler:\" + Global.GameData.SGame2 + \" UnS:\" + Global.GameData.USGame2);\r\n                    var tr = Math.floor(Math.random() * Global.GameData.USGame2.length);\r\n                    var ti = Global.GameData.USGame2[tr];\r\n                    Global.GameData.SGame2.push(ti.toString());\r\n                    Global.GameData.USGame2.splice(tr, 1);\r\n                }\r\n                // for (var i = 0; i < Global.GameData.MaxFinishedCount; i++) {\r\n\r\n                //     var tmpIndex = Global.GameData.ScheduledGames.indexOf(i.toString());\r\n                //     if (tmpIndex == -1) {\r\n                //         Global.GameData.ScheduledGames.push(i.toString());\r\n                //         if (Global.GameData.ScheduledGames.length >= Global.GameData.MaxChooseCount) {\r\n                //             break;\r\n                //         }\r\n                //     }\r\n                // }\r\n            }\r\n            else {//重排操作\r\n                cc.log(\"rerange before:\" + Global.GameData.SGame2);\r\n                for (var i = 0; i < Global.GameData.SGame2.length; i++) {\r\n                    var targetI = Math.floor(Math.random() * (Global.GameData.SGame2.length - 1));\r\n                    var tmp = Global.GameData.SGame2[i];\r\n                    cc.log(\"ti:\" + targetI + \" tmpV:\" + tmp + \" i:\" + i + \" targetV:\" + Global.GameData.SGame2[targetI]);\r\n                    Global.GameData.SGame2[i] = Global.GameData.SGame2[targetI];\r\n                    Global.GameData.SGame2[targetI] = tmp;\r\n                }\r\n                cc.log(\"rerange after:\" + Global.GameData.SGame2);\r\n            }\r\n        }\r\n        else {\r\n\r\n        }\r\n\r\n        this.SetScheduler();\r\n    },\r\n\r\n    OnClearClick(event, customEventData) {\r\n        if (Global.GameData.CurrentGameType == 1) {\r\n            Global.GameData.SGame1 = [];\r\n        }\r\n        else if (Global.GameData.CurrentGameType == 2) {\r\n            Global.GameData.SGame2 = [];\r\n        }\r\n        else {\r\n\r\n        }\r\n\r\n        this.SetScheduler();\r\n    },\r\n    //下方游戏列表单元点击\r\n    OnSelectGameClicked(event, customEventData) {\r\n        if (this.IsSelectPanelOn) {\r\n            var action = cc.moveBy(0.2, 0, -450);\r\n            var aa = cc.fadeTo(0.2, 0);\r\n\r\n            this.GameListPanel.getChildByName(\"Mask\").runAction(aa);\r\n            this.scheduleOnce(function () {\r\n                this.GameListPanel.getChildByName(\"Mask\").active = false;\r\n                this.GameListPanel.getChildByName(\"BG\").color = cc.Color.WHITE;\r\n                this.GameListPanel.getChildByName(\"BG\").opacity = 200;\r\n            }, 0.25);\r\n\r\n            this.GameListPanel.runAction(action);\r\n            this.GameListPanel.getComponent(cc.PageView).enabled = false;\r\n            this.IsSelectPanelOn = false;\r\n            this.SelectGameSwitch.color = new cc.Color(252, 141, 55, 255);\r\n            this.SelectGameSwitch.getChildByName(\"Label\").getComponent(cc.Label).string = \"选择游戏\";\r\n            this.SchedulerLabel.node.active = false;\r\n\r\n            this.SetScheduler();\r\n        }\r\n        else {\r\n            var action = cc.moveBy(0.2, 0, 450);\r\n            this.GameListPanel.getChildByName(\"Mask\").active = true;\r\n            this.GameListPanel.getChildByName(\"Mask\").opacity = 0;\r\n            var aa = cc.fadeTo(0.2, 150);\r\n            this.GameListPanel.getChildByName(\"BG\").opacity = 255;\r\n            this.GameListPanel.getChildByName(\"BG\").color = new cc.Color(223, 241, 247, 255);\r\n            this.GameListPanel.getChildByName(\"Mask\").runAction(aa);\r\n\r\n            this.GameListPanel.runAction(action);\r\n            this.GameListPanel.getComponent(cc.PageView).enabled = true;\r\n            this.IsSelectPanelOn = true;\r\n            this.SelectGameSwitch.getChildByName(\"Label\").getComponent(cc.Label).string = \"我选好了\";\r\n            this.SelectGameSwitch.color = new cc.Color(255, 205, 77, 255);\r\n            this.SchedulerLabel.node.active = true;\r\n            this.StartGameWarn.active = false;\r\n            this.SelectGameWarn.active = false;\r\n        }\r\n    },\r\n\r\n    onTabChangeClick(event, customEventData) {\r\n        if (customEventData == \"1\") {\r\n            this.schedulerGameBG.getComponent(cc.Sprite).spriteFrame = this.schedulerGameBGSprites[0];\r\n            Global.GameData.CurrentGameType = 1;\r\n            this.SetScheduler();\r\n        }\r\n        else if (customEventData == \"2\") {\r\n            this.schedulerGameBG.getComponent(cc.Sprite).spriteFrame = this.schedulerGameBGSprites[1];\r\n            Global.GameData.CurrentGameType = 2;\r\n            this.SetScheduler();\r\n        }\r\n    },\r\n\r\n    //已安排游戏点击\r\n    OnScheduledGameClicked(event, customEventData) {\r\n        this.currentSelectedIndex = Global.GameData.ScheduledGames[customEventData];\r\n        this.SelectedGamePanel.active = true;\r\n        cc.find(\"IconPanel/Icon\", this.SelectedGamePanel).getComponent(cc.Sprite).spriteFrame = this.GameIconSprites[this.currentSelectedIndex];\r\n        cc.find(\"SelectedGameName\", this.SelectedGamePanel).getComponent(cc.Label).string = Global.GameData.AllGames[this.currentSelectedIndex].displayName;\r\n    },\r\n\r\n    OnGameIconClicked(event, customEventData) {\r\n        cc.log(customEventData);\r\n        if (this.IsSelectPanelOn) {\r\n            if (Global.GameData.CurrentGameType == 1) {\r\n                var tmpIndex = Global.GameData.SGame1.indexOf(customEventData);\r\n                if (customEventData <= Global.GameData.MaxFinishedCount - 1) //没完工的游戏先不往上放\r\n                {\r\n                    if (Global.GameData.SGame1.length < Global.GameData.MaxChooseCount) {//还可以接着选\r\n                        if (tmpIndex == -1) {\r\n                            if (Global.GameData.SGame1.length < Global.GameData.MaxSchedulerCount) //原先没有就加并且还没达到开局要求\r\n                            {\r\n                                Global.GameData.SGame1.push(customEventData);\r\n                            }\r\n                        }\r\n\r\n                        this.SetScheduler();\r\n                    }\r\n                    if (tmpIndex != -1)//原先有就删\r\n                    {\r\n                        Global.GameData.SGame1.splice(tmpIndex, 1);\r\n                        this.SetScheduler();\r\n                    }\r\n                }\r\n            }\r\n            else if (Global.GameData.CurrentGameType == 2) {\r\n                var tmpIndex = Global.GameData.SGame2.indexOf(customEventData);\r\n                if (customEventData <= Global.GameData.MaxFinishedCount - 1) //没完工的游戏先不往上放\r\n                {\r\n                    if (Global.GameData.SGame2.length < Global.GameData.MaxChooseCount) {//还可以接着选\r\n                        if (tmpIndex == -1) {\r\n                            if (Global.GameData.SGame2.length < Global.GameData.MaxSchedulerCount) //原先没有就加并且还没达到开局要求\r\n                            {\r\n                                Global.GameData.SGame2.push(customEventData);\r\n                            }\r\n                        }\r\n\r\n                        this.SetScheduler();\r\n                    }\r\n                    if (tmpIndex != -1)//原先有就删\r\n                    {\r\n                        Global.GameData.SGame2.splice(tmpIndex, 1);\r\n                        this.SetScheduler();\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n\r\n            }\r\n\r\n        }\r\n        else {\r\n\r\n        }\r\n    },\r\n    OnScheduleStart(event, customEventData) {\r\n        Global.GameData.TotalGameCount = Global.GameData.MaxSchedulerCount;\r\n        Global.GameData.IsPlayForFun = false;\r\n        Global.GameData.ResultArray = [];\r\n        Global.GameData.PlayedGameCount = 0;\r\n        Global.GameData.LastSceneName = \"GameScene\" + Global.GameData.ScheduledGames[0].toString();\r\n        cc.director.loadScene(\"GameScene\" + Global.GameData.ScheduledGames[0].toString());\r\n    },\r\n    OnPlayThisClick(event, customEventData) {\r\n        Global.GameData.TotalGameCount = 7;\r\n        Global.GameData.IsPlayForFun = true;\r\n        Global.GameData.ResultArray = [];\r\n        Global.GameData.PlayedGameCount = 0;\r\n        Global.GameData.LastSceneName = \"GameScene\" + this.currentSelectedIndex.toString();\r\n        cc.director.loadScene(\"GameScene\" + this.currentSelectedIndex.toString());\r\n    },\r\n\r\n    OnCloseSelectedPanelButton(event, customEventData) {\r\n        this.SelectedGamePanel.active = false;\r\n\r\n    },\r\n\r\n    OnRoundSwitch(event, customEventData) {\r\n        if (customEventData == 1) {\r\n            if (Global.GameData.MaxSchedulerCount <= 5) {\r\n                Global.GameData.MaxSchedulerCount += 2;\r\n            }\r\n        }\r\n        else {\r\n            if (Global.GameData.MaxSchedulerCount >= 5) {\r\n                Global.GameData.MaxSchedulerCount -= 2;\r\n            }\r\n        }\r\n        this.SetScheduler();\r\n    },\r\n\r\n    ShowStartGameWarn() {\r\n        if (!this.StartGameWarn.active) {\r\n            this.StartGameWarn.opacity = 0;\r\n            this.StartGameWarn.active = true;\r\n            var oa = cc.fadeTo(0.2, 255);\r\n            this.StartGameWarn.runAction(oa);\r\n            this.scheduleOnce(function () {\r\n                this.StartGameWarn.getComponent(MoveRepeat).moveStart();\r\n            }, 0.2);\r\n        }\r\n    },\r\n\r\n    ShowSelectGameWarn() {\r\n        if (!this.SelectGameWarn.active) {\r\n            this.SelectGameWarn.opacity = 0;\r\n            this.SelectGameWarn.active = true;\r\n            var oa = cc.fadeTo(0.2, 255);\r\n            this.SelectGameWarn.runAction(oa);\r\n            this.scheduleOnce(function () {\r\n                this.SelectGameWarn.getComponent(MoveRepeat).moveStart();\r\n            }, 0.2);\r\n        }\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}