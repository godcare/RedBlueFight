{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Scripts\\Data/assets\\Scripts\\Data\\GameData.js"],"names":["GameType","require","cc","Class","properties","AllGames","default","type","AllGameNames","CopHistoryScore","LockedGames","UnScheduledGames","ScheduledGames","SGame1","SGame2","SGame3","USGame1","USGame2","USGame3","ResultArray","CurrentGameType","CurrentIndex","RedPoint","BluePoint","TotalGameCount","PlayedGameCount","MaxChooseCount","MaxSchedulerCount","MaxFinishedCount","SoundOn","SoundFxOn","SoundVolunm","SoundFxVolunm","CurrentWinner","IsPlayForFun","LastSceneName","CurrentCopScore","CurrentCopHistoryScore","name","ctor","Array","GetCache","i","iconName","displayName","sceneName","push","toString","log","hScore","lockStr","CC_WECHATGAME","wx","getStorageSync","sys","localStorage","getItem","split","SaveCache","setStorage","key","data","setItem"],"mappings":"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","file":"GameData.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\Data","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar GameType = require(\"GameType\")\r\ncc.Class({\r\n    properties: {\r\n        AllGames:\r\n        {\r\n            default: [],\r\n            type: [GameType]\r\n        },\r\n\r\n        AllGameNames:\r\n        {\r\n            default: [],\r\n        },\r\n        CopHistoryScore://合作模式历史得分纪录\r\n        {\r\n            default: [],\r\n        },\r\n        LockedGames://未解锁的游戏\r\n        {\r\n            default: [],\r\n        },\r\n        UnScheduledGames://所有未选游戏\r\n        {\r\n            default: [],\r\n        },\r\n        ScheduledGames:\r\n        {\r\n            default: [],\r\n        },\r\n        SGame1:\r\n        {\r\n            default: [],\r\n        },\r\n        SGame2:\r\n        {\r\n            default: [],\r\n        },\r\n        SGame3:\r\n        {\r\n            default: [],\r\n        },\r\n        USGame1:\r\n        {\r\n            default: [],\r\n        },\r\n        USGame2:\r\n        {\r\n            default: [],\r\n        },\r\n        USGame3:\r\n        {\r\n            default: [],\r\n        },\r\n        ResultArray://当轮战果,0为红色胜利，1为蓝色胜利\r\n        {\r\n            default: [],\r\n        },\r\n        CurrentGameType: 1,//当前游戏种类1,2,3\r\n        CurrentIndex: 0,\r\n        RedPoint: 0,//红色得分\r\n        BluePoint: 0,//蓝色得分\r\n        TotalGameCount: 3,//总共需要玩的局数\r\n        PlayedGameCount: 0,//已经玩了的局数\r\n        MaxChooseCount: 7,//最多可以选多少个游戏\r\n        MaxSchedulerCount: 3,//最多安排多少个游戏\r\n        MaxFinishedCount: 25,//程序员最多实现了多少款\r\n        SoundOn: true,//音乐开关\r\n        SoundFxOn: true,//音效开关\r\n        SoundVolunm: 1,//音乐音量\r\n        SoundFxVolunm: 1,//音效音量\r\n        CurrentWinner: -1,//当前赢家，0为红色，1为蓝色，-1为无\r\n        IsPlayForFun: false,//是不是随便玩\r\n        LastSceneName: \"\",//最近一次玩的场景\r\n        CurrentCopScore: 0,//当前合作模式得分\r\n        CurrentCopHistoryScore: 0,//当前合作模式历史最高得分\r\n\r\n\r\n    },\r\n    name: \"GameData\",\r\n    ctor: function () {\r\n        this.AllGameNames = [\"顶翻小胖子\", \"软蛋曲棍球\", \"细菌求生存\", \"试管排排压\", \"拳王攻防战\", \"巧夺培养皿\", \"烧瓶投分王\", \"超级冰壶赛\", \"细菌收集机\", \"金币翻转猜\", \"快的慢不了\", \"无敌风火轮\", \"点变培养皿\", \"疯狂跳跳菌\", \"火炮团团灭\", \"算术大挑战\", \"快按秒表停\", \"就按那细菌\", \"滚滚乐开怀\", \"疯狂找自我\", \"紧紧按灭它\", \"滴管三三消\", \"胶囊流水线\", \"赛车大冒险\", \"冲破细胞壁\"];\r\n        this.AllGames = new Array(this.MaxFinishedCount);\r\n        this.GetCache();\r\n\r\n        for (var i = 0; i < this.MaxFinishedCount; i++) {\r\n\r\n            this.AllGames[i] = new GameType();\r\n            this.AllGames[i].iconName = \"game_icon_\" + i;\r\n            this.AllGames[i].displayName = this.AllGameNames[i];\r\n            this.AllGames[i].sceneName = \"GameScene\" + i;\r\n            this.UnScheduledGames.push(i.toString());\r\n        }\r\n    },\r\n\r\n    GetCache() {\r\n        cc.log(\"getting cache\");\r\n        var hScore;\r\n        var lockStr;\r\n        if (CC_WECHATGAME) {\r\n            hScore = wx.getStorageSync(\"CopHistoryScore\");\r\n            lockStr = wx.getStorageSync(\"LockedGames\");\r\n\r\n        }\r\n        else {\r\n            hScore = cc.sys.localStorage.getItem(\"CopHistoryScore\");\r\n            lockStr = cc.sys.localStorage.getItem(\"LockedGames\");\r\n        }\r\n\r\n\r\n        if (hScore == null || hScore == \"\") {\r\n            this.CopHistoryScore = [0, 0, 0];\r\n        }\r\n        else {\r\n            this.CopHistoryScore = hScore.toString().split(\",\");\r\n        }\r\n\r\n        if (lockStr == null || lockStr == \"\") {\r\n            this.LockedGames = [\"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\"];\r\n        }\r\n        else {\r\n            this.LockedGames = lockStr.toString().split(\",\");\r\n        }\r\n        cc.log(\"getting cache done\");\r\n    },\r\n\r\n    SaveCache() {\r\n        if (CC_WECHATGAME) {\r\n            wx.setStorage({\r\n                key:\"CopHistoryScore\",\r\n                data:this.CopHistoryScore,\r\n            })\r\n            wx.setStorage({\r\n                key:\"LockedGames\",\r\n                data:this.LockedGames,\r\n            })\r\n            // wx.setStorageSync(\"CopHistoryScore\", this.CopHistoryScore);\r\n            // wx.setStorageSync(\"LockedGames\", this.LockedGames);\r\n\r\n        }\r\n        else {\r\n            cc.sys.localStorage.setItem(\"CopHistoryScore\", this.CopHistoryScore);\r\n            cc.sys.localStorage.setItem(\"LockedGames\", this.LockedGames);\r\n        }\r\n    }\r\n\r\n});\r\n"]}