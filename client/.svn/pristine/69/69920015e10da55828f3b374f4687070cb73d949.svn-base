{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game4/assets\\Scripts\\Control\\Games\\Game4\\Game4Control.js"],"names":["MySpriteAnimation","require","CountDownControl","cc","Class","extends","Component","properties","GameResultNode","default","type","Node","CountDownNode","PauseNode","RedStage","BlueStage","RedAwaitSprites","SpriteFrame","BlueAwaitSprites","RedAttackSprites","BlueAttackSprites","RedDefendSprites","BlueDefendSprites","RedHurtSprites","BlueHurtSprites","GameStatus","RedAttackBtn","RedDefendBtn","BlueAttackBtn","BlueDefendBtn","RedHint","BlueHint","RedStageFoul","BlueStageFoul","RedOpSprites","BlueOpSprites","RightOp","start","startAnimation","scheduleOnce","active","ShowNextOp","PlayAwait","switchBtnStatus","Math","floor","random","y","opacity","getComponent","Sprite","spriteFrame","rm","moveTo","ra","fadeIn","bm","ba","fadeTo","runAction","isEnabled","Button","enabled","onRedAttackClick","event","customEventData","onRedWin","onBlueWin","onRedDefendClick","onDefend","onBlueAttackClick","onBlueDefendClick","isFoul","find","Sprites","Play","x","Global","GameData","CurrentWinner","Restart"],"mappings":"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","file":"Game4Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game4","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar MySpriteAnimation = require(\"MySpriteAnimation\")\r\nvar CountDownControl = require(\"CountDownControl\")\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedStage:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueStage:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedAwaitSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        BlueAwaitSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        RedAttackSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        BlueAttackSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        RedDefendSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        BlueDefendSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        RedHurtSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        BlueHurtSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        GameStatus: 0,//0未开始，1开始了，2结束了\r\n        RedAttackBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedDefendBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueAttackBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueDefendBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedHint:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueHint:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedStageFoul:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueStageFoul:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedOpSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        BlueOpSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n\r\n        RightOp: -1,//正确的操作\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.startAnimation();\r\n    },\r\n\r\n    startAnimation() {\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n            this.ShowNextOp();\r\n        }, 4.5);\r\n\r\n    },\r\n\r\n    ShowNextOp() {\r\n        this.PlayAwait();\r\n        this.switchBtnStatus(true);\r\n        this.RightOp = -1;\r\n        //等待一段时间，生成下一局，这期间按了操作，会被当作犯规\r\n        this.scheduleOnce(function () {\r\n            if (this.GameStatus != 2) {//游戏还未结束\r\n                this.RightOp = Math.floor(Math.random() * 2);//随机生成0和1，若为0，则红进攻，反之则防守\r\n                this.RedHint.active = true;\r\n                this.BlueHint.active = true;\r\n                this.RedHint.y = -400;\r\n                this.BlueHint.y = -400;\r\n\r\n                this.BlueHint.opacity = 0;\r\n                this.RedHint.opacity = 0;\r\n                this.RedHint.getComponent(cc.Sprite).spriteFrame = this.RedOpSprites[this.RightOp];\r\n                this.BlueHint.getComponent(cc.Sprite).spriteFrame = this.BlueOpSprites[1 - this.RightOp];\r\n                var rm = cc.moveTo(0.7, 0, -150);\r\n                var ra = cc.fadeIn(0.7, 255);\r\n                var bm = cc.moveTo(0.7, 0, -150);\r\n                var ba = cc.fadeTo(0.7, 255);\r\n                this.RedHint.runAction(rm);\r\n                this.RedHint.runAction(ra);\r\n                this.BlueHint.runAction(bm);\r\n                this.BlueHint.runAction(ba);\r\n            }\r\n        }, 1);\r\n\r\n    },\r\n\r\n    switchBtnStatus(isEnabled) {\r\n        this.RedAttackBtn.getComponent(cc.Button).enabled = isEnabled;\r\n        this.RedDefendBtn.getComponent(cc.Button).enabled = isEnabled;\r\n        this.BlueAttackBtn.getComponent(cc.Button).enabled = isEnabled;\r\n        this.BlueDefendBtn.getComponent(cc.Button).enabled = isEnabled;\r\n    },\r\n\r\n    //红色点了进攻，如果是0，则红色胜利，如果是1或者-1则犯规，蓝胜利\r\n    onRedAttackClick(event, customEventData) {\r\n        this.switchBtnStatus(false);\r\n        if (this.RightOp == 0) {\r\n            this.onRedWin(false);\r\n        }\r\n        else {\r\n            this.onBlueWin(true);\r\n        }\r\n    },\r\n\r\n    //红色点了进攻，如果是1，则平局，红方防守，进行下一局，否则视为犯规，蓝方胜利\r\n    onRedDefendClick(event, customEventData) {\r\n        this.switchBtnStatus(false);\r\n        if (this.RightOp == 1) {\r\n            this.onDefend();\r\n        }\r\n        else {\r\n            this.onBlueWin(true);\r\n        }\r\n    },\r\n\r\n    //蓝色点了进攻，如果是1，则蓝色胜利，如果是0或者是-1则犯规，红胜利\r\n    onBlueAttackClick(event, customEventData) {\r\n        this.switchBtnStatus(false);\r\n        if (this.RightOp == 1) {\r\n            this.onBlueWin(false);\r\n        }\r\n        else {\r\n            this.onRedWin(true);\r\n        }\r\n    },\r\n\r\n    //蓝色点了防守，如果0，则平局，蓝方防守，进行下一局，否则视为犯规，红方胜利\r\n    onBlueDefendClick(event, customEventData) {\r\n        this.switchBtnStatus(false);\r\n        if (this.RightOp == 0) {\r\n            this.onDefend();\r\n        }\r\n        else {\r\n            this.onRedWin(true);\r\n        }\r\n    },\r\n\r\n    onRedWin(isFoul) {\r\n        cc.find(\"RedPlayer\", this.RedStage).getComponent(MySpriteAnimation).Sprites = this.RedAttackSprites;\r\n        cc.find(\"RedPlayer\", this.RedStage).getComponent(MySpriteAnimation).Play(false);\r\n        cc.find(\"BluePlayer\", this.RedStage).getComponent(MySpriteAnimation).Sprites = this.BlueHurtSprites;\r\n        cc.find(\"BluePlayer\", this.RedStage).getComponent(MySpriteAnimation).Play(false);\r\n        cc.find(\"RedPlayer\", this.BlueStage).getComponent(MySpriteAnimation).Sprites = this.RedAttackSprites;\r\n        cc.find(\"RedPlayer\", this.BlueStage).getComponent(MySpriteAnimation).Play(false);\r\n        cc.find(\"BluePlayer\", this.BlueStage).getComponent(MySpriteAnimation).Sprites = this.BlueHurtSprites;\r\n        cc.find(\"BluePlayer\", this.BlueStage).getComponent(MySpriteAnimation).Play(false);\r\n        this.RedStageFoul.active = isFoul;\r\n        this.BlueStageFoul.active = isFoul;\r\n        this.RedStageFoul.x = 100;\r\n        this.BlueStageFoul.x = 100;\r\n        if (isFoul) {\r\n            this.BlueHint.active = true;\r\n            this.BlueHint.getComponent(cc.Sprite).spriteFrame = this.BlueOpSprites[2];\r\n            this.BlueHint.y = -150;\r\n            this.BlueHint.opacity = 255;\r\n        }\r\n        this.GameStatus = 2;\r\n        this.scheduleOnce(function () {\r\n\r\n            Global.GameData.CurrentWinner = 0;\r\n            this.GameResultNode.active = true;\r\n        }, 1);\r\n    },\r\n\r\n    onBlueWin(isFoul) {\r\n        cc.find(\"RedPlayer\", this.RedStage).getComponent(MySpriteAnimation).Sprites = this.RedHurtSprites;\r\n        cc.find(\"RedPlayer\", this.RedStage).getComponent(MySpriteAnimation).Play(false);\r\n        cc.find(\"BluePlayer\", this.RedStage).getComponent(MySpriteAnimation).Sprites = this.BlueAttackSprites;\r\n        cc.find(\"BluePlayer\", this.RedStage).getComponent(MySpriteAnimation).Play(false);\r\n        cc.find(\"RedPlayer\", this.BlueStage).getComponent(MySpriteAnimation).Sprites = this.RedHurtSprites;\r\n        cc.find(\"RedPlayer\", this.BlueStage).getComponent(MySpriteAnimation).Play(false);\r\n        cc.find(\"BluePlayer\", this.BlueStage).getComponent(MySpriteAnimation).Sprites = this.BlueAttackSprites;\r\n        cc.find(\"BluePlayer\", this.BlueStage).getComponent(MySpriteAnimation).Play(false);\r\n        this.RedStageFoul.x = -100;\r\n        this.BlueStageFoul.x = -100;\r\n        this.RedStageFoul.active = isFoul;\r\n        this.BlueStageFoul.active = isFoul;\r\n        if (isFoul) {\r\n            this.RedHint.active = true;\r\n            this.RedHint.getComponent(cc.Sprite).spriteFrame = this.RedOpSprites[2];\r\n            this.RedHint.y = -150;\r\n            this.RedHint.opacity = 255;\r\n        }\r\n        this.GameStatus = 2;\r\n        this.scheduleOnce(function () {\r\n\r\n            Global.GameData.CurrentWinner = 1;\r\n            this.GameResultNode.active = true;\r\n        }, 1);\r\n    },\r\n\r\n    onDefend() {\r\n        //蓝色成功防守\r\n        if (this.RightOp == 0) {\r\n            cc.find(\"RedPlayer\", this.RedStage).getComponent(MySpriteAnimation).Sprites = this.RedAttackSprites;\r\n            cc.find(\"RedPlayer\", this.RedStage).getComponent(MySpriteAnimation).Play(false);\r\n            cc.find(\"BluePlayer\", this.RedStage).getComponent(MySpriteAnimation).Sprites = this.BlueDefendSprites;\r\n            cc.find(\"BluePlayer\", this.RedStage).getComponent(MySpriteAnimation).Play(false);\r\n            cc.find(\"RedPlayer\", this.BlueStage).getComponent(MySpriteAnimation).Sprites = this.RedAttackSprites;\r\n            cc.find(\"RedPlayer\", this.BlueStage).getComponent(MySpriteAnimation).Play(false);\r\n            cc.find(\"BluePlayer\", this.BlueStage).getComponent(MySpriteAnimation).Sprites = this.BlueDefendSprites;\r\n            cc.find(\"BluePlayer\", this.BlueStage).getComponent(MySpriteAnimation).Play(false);\r\n        }\r\n        else if (this.RightOp == 1) {\r\n            cc.find(\"RedPlayer\", this.RedStage).getComponent(MySpriteAnimation).Sprites = this.RedDefendSprites;\r\n            cc.find(\"RedPlayer\", this.RedStage).getComponent(MySpriteAnimation).Play(false);\r\n            cc.find(\"BluePlayer\", this.RedStage).getComponent(MySpriteAnimation).Sprites = this.BlueAttackSprites;\r\n            cc.find(\"BluePlayer\", this.RedStage).getComponent(MySpriteAnimation).Play(false);\r\n            cc.find(\"RedPlayer\", this.BlueStage).getComponent(MySpriteAnimation).Sprites = this.RedDefendSprites;\r\n            cc.find(\"RedPlayer\", this.BlueStage).getComponent(MySpriteAnimation).Play(false);\r\n            cc.find(\"BluePlayer\", this.BlueStage).getComponent(MySpriteAnimation).Sprites = this.BlueAttackSprites;\r\n            cc.find(\"BluePlayer\", this.BlueStage).getComponent(MySpriteAnimation).Play(false);\r\n        }\r\n\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n            this.CountDownNode.getComponent(CountDownControl).Restart();\r\n            this.BlueHint.active = false;\r\n            this.RedHint.active = false;\r\n            this.BlueStageFoul.active = false;\r\n            this.RedStageFoul.active = false;\r\n            this.PlayAwait();\r\n        }, 1.5)\r\n\r\n        this.scheduleOnce(function () {\r\n            this.ShowNextOp();\r\n        }, 4.5);\r\n    },\r\n\r\n    PlayAwait() {\r\n        cc.find(\"RedPlayer\", this.RedStage).getComponent(MySpriteAnimation).Sprites = this.RedAwaitSprites;\r\n        cc.find(\"BluePlayer\", this.RedStage).getComponent(MySpriteAnimation).Sprites = this.BlueAwaitSprites;\r\n        cc.find(\"RedPlayer\", this.BlueStage).getComponent(MySpriteAnimation).Sprites = this.RedAwaitSprites;\r\n        cc.find(\"BluePlayer\", this.BlueStage).getComponent(MySpriteAnimation).Sprites = this.BlueAwaitSprites;\r\n        cc.find(\"RedPlayer\", this.RedStage).getComponent(MySpriteAnimation).Play(true);\r\n        cc.find(\"BluePlayer\", this.RedStage).getComponent(MySpriteAnimation).Play(true);\r\n        cc.find(\"RedPlayer\", this.BlueStage).getComponent(MySpriteAnimation).Play(true);\r\n        cc.find(\"BluePlayer\", this.BlueStage).getComponent(MySpriteAnimation).Play(true);\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}