{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game14/assets\\Scripts\\Control\\Games\\Game14\\Game14Control.js"],"names":["SoundManager","require","cc","Class","extends","Component","properties","SoundMGR","default","type","GameResultNode","Node","CountDownNode","PauseNode","GameStatus","redViruses","blueViruses","redCannon","blueCannon","bulletSpeed","redBullet","blueBullet","redParent","blueParent","redCount","blueCount","rIndex","bIndex","hitList","onLoad","director","getPhysicsManager","enabled","start","startAnimation","update","dt","scheduleOnce","active","initViruses","Shoot","schedule","i","r1","Math","random","r2","getComponent","RigidBody","linearVelocity","Vec2","OnTouchPanelStart","panelName","touchX","moveY","rotation","getChildren","length","x","y","newRed","instantiate","name","parent","newBlue","OnBulletHit","ballName","otherName","log","indexOf","playScore","find","destroy","push","playRebounce2","playOver","Global","GameData","CurrentWinner"],"mappings":"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","file":"Game14Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game14","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar SoundManager = require(\"SoundManager\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        GameStatus: 0,//0未开始，1开始了，2结束了\r\n        redViruses:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        blueViruses:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        redCannon:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        blueCannon:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        bulletSpeed: 300,\r\n        redBullet:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        blueBullet:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        redParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        blueParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        redCount: 8,\r\n        blueCount: 8,\r\n        rIndex: 0,\r\n        bIndex: 0,\r\n        hitList: [],\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        cc.director.getPhysicsManager().enabled = true;\r\n    },\r\n\r\n    start() {\r\n        // this.redScoreTotalNumber.setNumber(20);\r\n        this.startAnimation();\r\n\r\n    },\r\n\r\n    update(dt) {\r\n\r\n    },\r\n\r\n    startAnimation() {\r\n\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n            this.initViruses();\r\n            this.scheduleOnce(function () {\r\n                this.Shoot();\r\n            }, 0.5);\r\n            this.schedule(function () {\r\n                if (this.GameStatus == 1) {\r\n                    this.Shoot();\r\n                }\r\n            }, 3);\r\n\r\n        }, 4.5);\r\n\r\n    },\r\n\r\n    initViruses() {\r\n        for (var i = 0; i < 8; i++) {\r\n            var r1 = Math.random() - 0.5;\r\n            var r2 = Math.random() - 0.5;\r\n            if (this.redViruses[i] != null) {\r\n                this.redViruses[i].getComponent(cc.RigidBody).linearVelocity = new cc.Vec2(r1 * 400, r2 * 400);\r\n                this.redViruses[i].active = true;\r\n            }\r\n            if (this.blueViruses[i] != null) {\r\n                this.blueViruses[i].getComponent(cc.RigidBody).linearVelocity = new cc.Vec2(r1 * 400, r2 * 400);\r\n                this.blueViruses[i].active = true;\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    OnTouchPanelStart(panelName, touchX, moveY) {\r\n        if (this.GameStatus == 1) {\r\n            if (panelName == \"redTouch\") {\r\n                if (this.redCannon.rotation >= -45 && this.redCannon.rotation <= 45) {\r\n                    if (touchX <= 360) {\r\n                        this.redCannon.rotation += moveY * 0.1;\r\n                    }\r\n                    else {\r\n                        this.redCannon.rotation -= moveY * 0.1;\r\n                    }\r\n\r\n                    if (this.redCannon.rotation > 45) {\r\n                        this.redCannon.rotation = 45;\r\n                    }\r\n                    else if (this.redCannon.rotation < -45) {\r\n                        this.redCannon.rotation = -45;\r\n                    }\r\n                }\r\n\r\n            }\r\n            else if (panelName == \"blueTouch\") {\r\n                if (this.blueCannon.rotation >= 135 && this.blueCannon.rotation <= 225) {\r\n                    if (touchX <= 360) {\r\n                        this.blueCannon.rotation += moveY * 0.1;\r\n                    }\r\n                    else {\r\n                        this.blueCannon.rotation -= moveY * 0.1;\r\n                    }\r\n\r\n                    if (this.blueCannon.rotation > 225) {\r\n                        this.blueCannon.rotation = 225;\r\n                    }\r\n                    else if (this.blueCannon.rotation < 135) {\r\n                        this.blueCannon.rotation = 135;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    Shoot() {\r\n        if (this.redParent.getChildren.length == 0) {\r\n            this.redParent.x = this.redCannon.x;\r\n            this.redParent.y = this.redCannon.y;\r\n            this.redParent.rotation = this.redCannon.rotation;\r\n            var newRed = cc.instantiate(this.redBullet);\r\n            this.rIndex += 1;\r\n            newRed.name = \"rBullet\" + this.rIndex;\r\n            newRed.parent = this.redParent;\r\n            newRed.x = 0;\r\n            newRed.y = 0;\r\n            newRed.active = true;\r\n        }\r\n        if (this.blueParent.getChildren.length == 0) {\r\n            this.blueParent.x = this.blueCannon.x;\r\n            this.blueParent.y = this.blueCannon.y;\r\n            this.blueParent.rotation = this.blueCannon.rotation;\r\n            var newBlue = cc.instantiate(this.blueBullet);\r\n            this.bIndex += 1;\r\n            newBlue.name = \"bBullet\" + this.bIndex;\r\n            newBlue.parent = this.blueParent;\r\n            newBlue.x = 0;\r\n            newBlue.y = 0;\r\n            newBlue.active = true;\r\n        }\r\n    },\r\n\r\n    OnBulletHit(ballName, otherName) {\r\n        cc.log(ballName + \" hit \" + otherName);\r\n        if (this.GameStatus == 1) {\r\n            if (ballName.indexOf(\"rBullet\") > -1 && this.hitList.indexOf(ballName) == -1) {\r\n                if (otherName.indexOf(\"virusBlue\") > -1)//red hit blue\r\n                {\r\n                    this.SoundMGR.playScore();\r\n                    cc.find(\"Canvas/GameCore/\" + otherName).destroy();\r\n                    if (cc.find(ballName, this.redParent) != null) {\r\n                        cc.find(ballName, this.redParent).destroy();\r\n                    }\r\n                    this.blueCount -= 1;\r\n                    this.hitList.push(ballName);\r\n                }\r\n                else if (otherName.indexOf(\"virusRed\") > -1)//red hit red\r\n                {\r\n                    this.SoundMGR.playRebounce2();\r\n                    cc.find(\"Canvas/GameCore/\" + otherName).destroy();\r\n                    if (cc.find(ballName, this.redParent) != null) {\r\n                        cc.find(ballName, this.redParent).destroy();\r\n                    }\r\n                    this.redCount -= 1;\r\n                    this.hitList.push(ballName);\r\n                }\r\n            }\r\n            else if (ballName.indexOf(\"bBullet\") > -1 && this.hitList.indexOf(ballName) == -1) {\r\n                if (otherName.indexOf(\"virusBlue\") > -1)//blue hit blue\r\n                {\r\n                    this.SoundMGR.playRebounce2();\r\n                    cc.find(\"Canvas/GameCore/\" + otherName).destroy();\r\n                    if (cc.find(ballName, this.blueParent) != null) {\r\n                        cc.find(ballName, this.blueParent).destroy();\r\n                    }\r\n                    this.blueCount -= 1;\r\n                    this.hitList.push(ballName);\r\n                }\r\n                else if (otherName.indexOf(\"virusRed\") > -1)//red hit red\r\n                {\r\n                    this.SoundMGR.playScore();\r\n                    cc.find(\"Canvas/GameCore/\" + otherName).destroy();\r\n                    if (cc.find(ballName, this.blueParent) != null) {\r\n                        cc.find(ballName, this.blueParent).destroy();\r\n                    }\r\n                    this.redCount -= 1;\r\n                    this.hitList.push(ballName);\r\n                }\r\n            }\r\n\r\n            if (this.redCount == 0) {\r\n                this.GameStatus = 2;\r\n                this.SoundMGR.playOver();\r\n                this.scheduleOnce(function () {\r\n                    Global.GameData.CurrentWinner = 1;\r\n                    this.GameResultNode.active = true;\r\n                }, 1.5);\r\n            }\r\n            else if (this.blueCount == 0) {\r\n                this.GameStatus = 2;\r\n                this.SoundMGR.playOver();\r\n                this.scheduleOnce(function () {\r\n                    Global.GameData.CurrentWinner = 0;\r\n                    this.GameResultNode.active = true;\r\n                }, 1.5);\r\n            }\r\n        }\r\n    },\r\n});\r\n"]}