{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game10/assets\\Scripts\\Control\\Games\\Game10\\Game10Control.js"],"names":["SoundManager","require","cc","Class","extends","Component","properties","SoundMGR","default","type","GameResultNode","Node","CountDownNode","PauseNode","redPre","bluePre","redBall","blueBall","jumpDownList","GameStatus","isRedDown","isBlueDown","isRedScored","isBlueScored","redScore","blueScore","ScoreSprites","SpriteFrame","onLoad","director","getPhysicsManager","enabled","start","startAnimation","scheduleOnce","active","spawnBall","OnBallHit","ballName","hitName","setScore","OnPanelHitBorder","panelName","boarderName","log","jumpDownBall","getComponent","RigidBody","applyForceToCenter","Vec2","x","jumpUpBall","ballIndex","linearVelocity","newBall","instantiate","parent","find","y","destroy","scoreIndex","score","i","toString","Sprite","spriteFrame"],"mappings":"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","file":"Game10Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game10","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\nvar SoundManager = require(\"SoundManager\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        redPre:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        bluePre:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        redBall:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        blueBall:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        jumpDownList: [],\r\n        GameStatus: 0,//0未开始，1开始了，2结束了\r\n        isRedDown: false,\r\n        isBlueDown: false,\r\n        isRedScored: false,\r\n        isBlueScored: false,\r\n        redScore: 0,\r\n        blueScore: 0,\r\n        ScoreSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        redScore:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        blueScore:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        cc.director.getPhysicsManager().enabled = true;\r\n    },\r\n\r\n    start() {\r\n        this.startAnimation();\r\n        // cc.log(this.Coin.scaleX);\r\n    },\r\n    startAnimation() {\r\n\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n            this.spawnBall(0);\r\n        }, 4.5);\r\n\r\n    },\r\n\r\n    OnBallHit(ballName, hitName) {\r\n        if (ballName == \"redBall\") {\r\n            switch (hitName) {\r\n                case \"RightScore\":\r\n                    if (!this.isRedScored) {\r\n                        this.redScore += 1;\r\n                        this.isRedScored = true;\r\n                        this.scheduleOnce(function () {\r\n                            this.spawnBall(0);\r\n                            this.setScore(0, this.redScore);\r\n                        }, 1);\r\n                    }\r\n                    break;\r\n                case \"LeftScore\":\r\n                case \"Bottom\":\r\n                case \"Top\":\r\n                    this.spawnBall(0);\r\n                    break;\r\n            }\r\n        }\r\n    },\r\n    OnPanelHitBorder(panelName, boarderName) {\r\n        cc.log(panelName + \" hit \" + boarderName);\r\n        if (panelName == \"redPanel\") {\r\n            if (boarderName == \"left\") {\r\n                if (!this.isRedDown) {\r\n                    this.isRedDown = true;\r\n                    this.jumpDownBall(0);\r\n                }\r\n            }\r\n            else if (boarderName == \"redBall\") {\r\n                cc.log(\"red ball Add force\");\r\n                this.redBall.getComponent(cc.RigidBody).applyForceToCenter(new cc.Vec2(5000, 0), true);\r\n            }\r\n            else if (boarderName == \"right\") {\r\n                if (this.redBall.x >= 130) {\r\n                    this.jumpUpBall(0);\r\n                }\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    jumpDownBall(ballIndex) {\r\n        if (ballIndex == 0) {\r\n            this.redBall.getComponent(cc.RigidBody).linearVelocity = new cc.Vec2(100, 250);\r\n        }\r\n    },\r\n\r\n    jumpUpBall(ballIndex) {\r\n        if (ballIndex == 0) {\r\n            this.redBall.getComponent(cc.RigidBody).linearVelocity = new cc.Vec2(100, 300);\r\n        }\r\n    },\r\n\r\n    spawnBall(ballIndex) {\r\n        if (ballIndex == 0) {\r\n\r\n            // this.scheduleOnce(function () {\r\n            var newBall = cc.instantiate(this.redPre);\r\n            // this.redBall = cc.instantiate(this.redPre);\r\n\r\n            newBall.active = true;\r\n            newBall.parent = this.redPre.parent;\r\n            // this.redBall.getComponent(cc.RigidBody).linearVelocity = new cc.Vec2(0, 0);\r\n            newBall.x = cc.find(\"Canvas/GameCore/RedPart/redSpawn\").x;\r\n            newBall.y = cc.find(\"Canvas/GameCore/RedPart/redSpawn\").y;\r\n            this.isRedDown = false;\r\n            this.isRedScored = false;\r\n            if (this.redBall != null) {\r\n                this.redBall.destroy();\r\n            }\r\n            this.redBall = newBall;\r\n            // }, 0.1);\r\n\r\n        }\r\n    },\r\n\r\n    setScore(scoreIndex, score) {\r\n        if (scoreIndex == 0) {\r\n            for (var i = 0; i < score; i++) {\r\n                cc.find(i.toString(), this.redScore).getComponent(cc.Sprite).spriteFrame = this.ScoreSprites[0];\r\n            }\r\n        }\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}