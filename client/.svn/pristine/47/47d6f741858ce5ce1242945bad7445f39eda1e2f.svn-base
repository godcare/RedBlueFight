{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\MainMenu/assets\\Scripts\\Control\\MainMenu\\MainMenuControl.js"],"names":["cc","Class","extends","Component","properties","GameIcons","default","type","Node","IsSelectPanelOn","SelectGameSwitch","GameListPanel","ScheduleGameParent","start","InitData","i","getChildByName","getComponent","Label","string","Global","GameData","AllGames","displayName","SetScheduler","log","ScheduledGames","length","find","toString","active","color","tmpIcon","SpriteFrame","Sprite","OnSelectGameClicked","event","customEventData","action","moveBy","runAction","OnScheduledGameClicked","OnGameIconClicked","tmpIndex","indexOf","MaxChooseCount","push","splice"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,mBACA;AACIC,qBAAS,EADb;AAEIC,kBAAM,CAACP,GAAGQ,IAAJ;;AAFV,SAjBQ;AAsBRC,yBACA;AACIH,qBAAS;AADb,SAvBQ;AA0BRI,0BACA;AACIJ,qBAAS,IADb;AAEIC,kBAAMP,GAAGQ;AAFb,SA3BQ;AA+BRG,uBACA;AACIL,qBAAS,IADb;AAEIC,kBAAMP,GAAGQ;AAFb,SAhCQ;AAoCRI,4BACA;AACIN,qBAAS,IADb;AAEIC,kBAAMP,GAAGQ;AAFb;;AArCQ,KAHP;;AA+CL;;AAEA;;AAEAK,SAnDK,mBAmDG;AACJ,aAAKC,QAAL;AACH,KArDI;;;AAuDLA,cAAU,oBAAY;AAClB;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AACxB,iBAAKV,SAAL,CAAeU,CAAf,EAAkBC,cAAlB,CAAiC,MAAjC,EAAyCC,YAAzC,CAAsDjB,GAAGkB,KAAzD,EAAgEC,MAAhE,GAAyEC,OAAOC,QAAP,CAAgBC,QAAhB,CAAyBP,CAAzB,EAA4BQ,WAArG;AACH;AACJ,KA5DI;;AA8DL;AACAC,kBAAc,wBAAY;AACtBxB,WAAGyB,GAAH,CAAO,mBAAP;AACA,aAAK,IAAIV,IAAI,CAAb,EAAgBA,IAAIK,OAAOC,QAAP,CAAgBK,cAAhB,CAA+BC,MAAnD,EAA2DZ,GAA3D,EAAgE;AAC5D;AACAf,eAAG4B,IAAH,CAAQ,UAAUb,EAAEc,QAAF,EAAV,GAAyB,OAAjC,EAA0C,KAAKlB,aAA/C,EAA8DmB,MAA9D,GAAuE,IAAvE;AACA9B,eAAG4B,IAAH,CAAQ,UAAUb,EAAEc,QAAF,EAAV,GAAyB,OAAjC,EAA0C,KAAKlB,aAA/C,EAA8DM,YAA9D,CAA2EjB,GAAGkB,KAA9E,EAAqFa,KAArF,GAA6F,IAAI/B,GAAG+B,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,EAA4B,GAA5B,CAA7F;AACA;AACA;AACA,gBAAIC,UAAUhC,GAAG4B,IAAH,CAAQ,UAAUb,EAAEc,QAAF,EAAV,GAAyB,OAAjC,EAA0C,KAAKlB,aAA/C,EAA8DM,YAA9D,CAA2EjB,GAAGiC,WAA9E,CAAd;AACA;AACAjC,eAAG4B,IAAH,CAAQb,EAAEc,QAAF,KAAe,OAAvB,EAAgC,KAAKjB,kBAArC,EAAyDkB,MAAzD,GAAkE,IAAlE;AACA9B,eAAG4B,IAAH,CAAQb,EAAEc,QAAF,KAAe,OAAvB,EAAgC,KAAKjB,kBAArC,EAAyDkB,MAAzD,GAAkE,IAAlE;AACA;AACA;AACA9B,eAAG4B,IAAH,CAAQb,EAAEc,QAAF,KAAe,OAAvB,EAAgC,KAAKjB,kBAArC,EAAyDK,YAAzD,CAAsEjB,GAAGkB,KAAzE,EAAgFC,MAAhF,GAAyFC,OAAOC,QAAP,CAAgBC,QAAhB,CAAyBF,OAAOC,QAAP,CAAgBK,cAAhB,CAA+BX,CAA/B,CAAzB,EAA4DQ,WAArJ;AACAvB,eAAG4B,IAAH,CAAQb,EAAEc,QAAF,KAAe,OAAvB,EAAgC,KAAKjB,kBAArC,EAAyDK,YAAzD,CAAsEjB,GAAGkC,MAAzE,EAAiFD,WAAjF,GAA+FD,OAA/F;AACH;AAGJ,KAlFI;AAmFL;AACAG,uBApFK,+BAoFeC,KApFf,EAoFsBC,eApFtB,EAoFuC;AACxC,YAAI,KAAK5B,eAAT,EAA0B;AACtB,gBAAI6B,SAAStC,GAAGuC,MAAH,CAAU,GAAV,EAAe,CAAf,EAAkB,CAAC,GAAnB,CAAb;AACA,iBAAK5B,aAAL,CAAmBK,cAAnB,CAAkC,MAAlC,EAA0Cc,MAA1C,GAAmD,KAAnD;AACA,iBAAKnB,aAAL,CAAmB6B,SAAnB,CAA6BF,MAA7B;AACA,iBAAK7B,eAAL,GAAuB,KAAvB;AACA,iBAAKC,gBAAL,CAAsBM,cAAtB,CAAqC,OAArC,EAA8CC,YAA9C,CAA2DjB,GAAGkB,KAA9D,EAAqEC,MAArE,GAA8E,MAA9E;AACH,SAND,MAOK;AACD,gBAAImB,SAAStC,GAAGuC,MAAH,CAAU,GAAV,EAAe,CAAf,EAAkB,GAAlB,CAAb;AACA,iBAAK5B,aAAL,CAAmBK,cAAnB,CAAkC,MAAlC,EAA0Cc,MAA1C,GAAmD,IAAnD;AACA,iBAAKnB,aAAL,CAAmB6B,SAAnB,CAA6BF,MAA7B;AACA,iBAAK7B,eAAL,GAAuB,IAAvB;AACA,iBAAKC,gBAAL,CAAsBM,cAAtB,CAAqC,OAArC,EAA8CC,YAA9C,CAA2DjB,GAAGkB,KAA9D,EAAqEC,MAArE,GAA8E,MAA9E;AACH;AACJ,KAnGI;;;AAqGL;AACAsB,0BAtGK,kCAsGkBL,KAtGlB,EAsGyBC,eAtGzB,EAsG0C,CAE9C,CAxGI;AAyGLK,qBAzGK,6BAyGaN,KAzGb,EAyGoBC,eAzGpB,EAyGqC;AACtCrC,WAAGyB,GAAH,CAAOY,eAAP;AACA,YAAI,KAAK5B,eAAT,EAA0B;AACtB,gBAAIkC,WAAWvB,OAAOC,QAAP,CAAgBK,cAAhB,CAA+BkB,OAA/B,CAAuCP,eAAvC,CAAf;AACArC,eAAGyB,GAAH,CAAOkB,QAAP;AACA,gBAAIvB,OAAOC,QAAP,CAAgBK,cAAhB,CAA+BC,MAA/B,GAAwCP,OAAOC,QAAP,CAAgBwB,cAA5D,EAA4E;AAAC;AACzE,oBAAIF,YAAY,CAAC,CAAjB,EAAoB;AACpB;AACIvB,+BAAOC,QAAP,CAAgBK,cAAhB,CAA+BoB,IAA/B,CAAoCT,eAApC;AACH,qBAHD,MAII;AACJ;AACIjB,+BAAOC,QAAP,CAAgBK,cAAhB,CAA+BqB,MAA/B,CAAsCJ,QAAtC,EAAgD,CAAhD;AACH;AACD,qBAAKnB,YAAL;AACH;AACJ,SAdD,MAeK,CAEJ;AACJ;AA7HI;AA8HL;AA9HJ","file":"MainMenuControl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\MainMenu","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        GameIcons:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n\r\n        },\r\n        IsSelectPanelOn:\r\n        {\r\n            default: false,\r\n        },\r\n        SelectGameSwitch:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        GameListPanel:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        ScheduleGameParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.InitData();\r\n    },\r\n\r\n    InitData: function () {\r\n        //初始化游戏图标\r\n        for (var i = 0; i < 8; i++) {\r\n            this.GameIcons[i].getChildByName(\"Name\").getComponent(cc.Label).string = Global.GameData.AllGames[i].displayName;\r\n        }\r\n    },\r\n\r\n    //设置排上日程的游戏列表\r\n    SetScheduler: function () {\r\n        cc.log(\"Setting Scheduler\");\r\n        for (var i = 0; i < Global.GameData.ScheduledGames.length; i++) {\r\n            //设置底部游戏列表\r\n            cc.find(\"List/\" + i.toString() + \"/Mark\", this.GameListPanel).active = true;\r\n            cc.find(\"List/\" + i.toString() + \"/Name\", this.GameListPanel).getComponent(cc.Label).color = new cc.color(255, 255, 255, 255);\r\n            // this.GameListPanel.getChildByName(\"List\").getChildByName(i).getChildByName(\"Mark\").active = true;\r\n            // this.GameListPanel.getChildByName(\"List\").getChildByName(i).getChildByName(\"Name\").getComponent(cc.Label).color = new cc.color(255, 255, 255, 255);\r\n            var tmpIcon = cc.find(\"List/\" + i.toString() + \"/Icon\", this.GameListPanel).getComponent(cc.SpriteFrame);\r\n            //设置中部游戏日程表\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).active = true;\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).active = true;\r\n            // this.ScheduleGameParent.getChildByName(i).getChildByName(\"Icon\").active = true;\r\n            // this.ScheduleGameParent.getChildByName(i).getChildByName(\"Name\").active = true;\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).getComponent(cc.Label).string = Global.GameData.AllGames[Global.GameData.ScheduledGames[i]].displayName;\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).getComponent(cc.Sprite).SpriteFrame = tmpIcon;\r\n        }\r\n\r\n\r\n    },\r\n    //下方游戏列表单元点击\r\n    OnSelectGameClicked(event, customEventData) {\r\n        if (this.IsSelectPanelOn) {\r\n            var action = cc.moveBy(0.3, 0, -300);\r\n            this.GameListPanel.getChildByName(\"Mask\").active = false;\r\n            this.GameListPanel.runAction(action);\r\n            this.IsSelectPanelOn = false;\r\n            this.SelectGameSwitch.getChildByName(\"Label\").getComponent(cc.Label).string = \"选择游戏\";\r\n        }\r\n        else {\r\n            var action = cc.moveBy(0.3, 0, 300);\r\n            this.GameListPanel.getChildByName(\"Mask\").active = true;\r\n            this.GameListPanel.runAction(action);\r\n            this.IsSelectPanelOn = true;\r\n            this.SelectGameSwitch.getChildByName(\"Label\").getComponent(cc.Label).string = \"我选好了\";\r\n        }\r\n    },\r\n\r\n    //已安排游戏点击\r\n    OnScheduledGameClicked(event, customEventData) {\r\n\r\n    },\r\n    OnGameIconClicked(event, customEventData) {\r\n        cc.log(customEventData);\r\n        if (this.IsSelectPanelOn) {\r\n            var tmpIndex = Global.GameData.ScheduledGames.indexOf(customEventData);\r\n            cc.log(tmpIndex);\r\n            if (Global.GameData.ScheduledGames.length < Global.GameData.MaxChooseCount) {//还可以接着选\r\n                if (tmpIndex == -1) //原先没有就加\r\n                {\r\n                    Global.GameData.ScheduledGames.push(customEventData);\r\n                }\r\n                else//原先有就删\r\n                {\r\n                    Global.GameData.ScheduledGames.splice(tmpIndex, 1);\r\n                }\r\n                this.SetScheduler();\r\n            }\r\n        }\r\n        else {\r\n\r\n        }\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}