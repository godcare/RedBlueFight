{"version":3,"sources":["Game6Control.js"],"names":["MySpriteNumber","require","SoundManager","cc","Class","extends","Component","properties","SoundMGR","default","type","GameResultNode","Node","CountDownNode","PauseNode","RedBallParent","BlueBallParent","RedBallPres","BlueBallPres","UnTouchList","redScoreLabel","blueScoreLabel","redIndex","blueIndex","redScore","blueScore","rmoveDelta","Vec2","bmoveDelta","TotalSeconds","tmpTimer","redProgress","ProgressBar","blueProgress","GameStatus","DestroyList","EnterList","newRed","newBlue","onLoad","director","getPhysicsManager","enabled","update","dt","progress","playOver","scheduleOnce","Global","GameData","CurrentWinner","active","start","startAnimation","SpawnNewBall","onTouchStart","playVoice","onBallHit","selfName","otherName","log","indexOf","find","destroy","push","tmpI","splice","obj","getComponent","RigidBody","linearVelocity","AddScore","DestroyBall","addIndex","setNumber","playScore","bIndex","playBlob","rd","Math","floor","random","newObj","instantiate","name","toString","parent","setPosition","position"],"mappings":"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","file":"Game6Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game6","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar MySpriteNumber = require(\"MySpriteNumber\");\r\nvar SoundManager = require(\"SoundManager\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedBallParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BlueBallParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedBallPres:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        BlueBallPres:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        UnTouchList:\r\n        {\r\n            default: [],\r\n        },\r\n        redScoreLabel:\r\n        {\r\n            default: null,\r\n            type: MySpriteNumber,\r\n        },\r\n        blueScoreLabel:\r\n        {\r\n            default: null,\r\n            type: MySpriteNumber,\r\n        },\r\n        redIndex: 10000,//生成球的起始编号\r\n        blueIndex: 50000,\r\n        redScore: 0,\r\n        blueScore: 0,\r\n        rmoveDelta:\r\n        {\r\n            default: new cc.Vec2(),\r\n\r\n        },\r\n        bmoveDelta:\r\n        {\r\n            default: new cc.Vec2(),\r\n\r\n        },\r\n        TotalSeconds: 30,\r\n        tmpTimer: 0,\r\n        redProgress:\r\n        {\r\n            default: null,\r\n            type: cc.ProgressBar,\r\n        },\r\n        blueProgress:\r\n        {\r\n            default: null,\r\n            type: cc.ProgressBar,\r\n        },\r\n        GameStatus: 0,//0未开始，1开始了，2结束了\r\n        DestroyList:\r\n        {\r\n            default: [],\r\n        },\r\n        EnterList:\r\n        {\r\n            default: [],\r\n        },\r\n        newRed: 0,\r\n        newBlue: 0,\r\n    },\r\n    onLoad() {\r\n        cc.director.getPhysicsManager().enabled = true;\r\n\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    update(dt) {\r\n        if (this.GameStatus == 1) {\r\n            if (this.tmpTimer <= this.TotalSeconds) {\r\n                this.tmpTimer += dt;\r\n                this.redProgress.progress = (this.TotalSeconds - this.tmpTimer) / this.TotalSeconds;\r\n                this.blueProgress.progress = (this.TotalSeconds - this.tmpTimer) / this.TotalSeconds;\r\n            }\r\n            else {\r\n                this.GameStatus = 2;\r\n                this.SoundMGR.playOver();\r\n                if (this.redScore > this.blueScore) {\r\n                    this.scheduleOnce(function () {\r\n                        Global.GameData.CurrentWinner = 0;\r\n                        this.GameResultNode.active = true;\r\n                    }, 2);\r\n                }\r\n                else if (this.redScore < this.blueScore) {\r\n                    this.scheduleOnce(function () {\r\n                        Global.GameData.CurrentWinner = 1;\r\n                        this.GameResultNode.active = true;\r\n                    }, 2);\r\n                }\r\n                else {\r\n                    this.scheduleOnce(function () {\r\n                        Global.GameData.CurrentWinner = 2;\r\n                        this.GameResultNode.active = true;\r\n                    }, 2);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    start() {\r\n        this.startAnimation();\r\n    },\r\n    startAnimation() {\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n            this.SpawnNewBall(0);\r\n            this.SpawnNewBall(1);\r\n        }, 3.5);\r\n\r\n    },\r\n\r\n    onTouchStart() {\r\n        this.SoundMGR.playVoice();\r\n\r\n    },\r\n\r\n    onBallHit(selfName, otherName) {\r\n        cc.log(\"self:\" + selfName + \" other:\" + otherName);\r\n        if (otherName == \"Destroy\") {\r\n            if (this.DestroyList.indexOf(selfName) == -1) {\r\n                if (selfName < 50000) {\r\n                    cc.find(selfName, this.RedBallParent).destroy();\r\n                    this.newRed -= 1;\r\n                    this.SpawnNewBall(0);\r\n                }\r\n                else {\r\n                    cc.find(selfName, this.BlueBallParent).destroy();\r\n                    this.newBlue -= 1;\r\n                    this.SpawnNewBall(1);\r\n                }\r\n                this.DestroyList.push(selfName);\r\n            }\r\n        }\r\n        if (otherName == \"Dish\") {\r\n            var tmpI = this.UnTouchList.indexOf(selfName);\r\n            if (tmpI != -1) {\r\n                this.UnTouchList.splice(tmpI, 1);\r\n            }\r\n        }\r\n        if (otherName == \"RedEnter\") {\r\n            if (this.EnterList.indexOf(selfName) == -1) {\r\n                this.EnterList.push(selfName);\r\n                this.newRed -= 1;\r\n                var obj = cc.find(selfName, this.RedBallParent);\r\n                obj.getComponent(cc.RigidBody).linearVelocity = new cc.Vec2(0, 0);\r\n                if (this.UnTouchList.indexOf(selfName) == -1) {\r\n                    this.UnTouchList.push(selfName);\r\n                }\r\n                if (selfName < 50000) {\r\n\r\n                    this.scheduleOnce(function () {\r\n                        this.SpawnNewBall(0);\r\n                    }, 1);\r\n                    this.AddScore(0);\r\n                }\r\n            }\r\n            else {\r\n                // this.EnterList.push(selfName);\r\n                this.scheduleOnce(function () {\r\n                    if (this.EnterList.indexOf(selfName) == -1) {\r\n                        this.SpawnNewBall(1);\r\n                    }\r\n                }, 1)\r\n                // this.AddScore(1);\r\n            }\r\n\r\n        }\r\n\r\n        if (otherName == \"BlueEnter\") {\r\n            if (this.EnterList.indexOf(selfName) == -1) {\r\n                this.EnterList.push(selfName);\r\n                this.newBlue -= 1;\r\n                var obj = cc.find(selfName, this.BlueBallParent);\r\n                obj.getComponent(cc.RigidBody).linearVelocity = new cc.Vec2(0, 0);\r\n                if (this.UnTouchList.indexOf(selfName) == -1) {\r\n                    this.UnTouchList.push(selfName);\r\n                }\r\n                if (selfName < 50000) {\r\n                    this.scheduleOnce(function () {\r\n\r\n                        this.SpawnNewBall(0)\r\n\r\n\r\n                    }, 1)\r\n\r\n                    // this.AddScore(0);\r\n                }\r\n                else {\r\n                    this.scheduleOnce(function () {\r\n\r\n                        this.SpawnNewBall(1)\r\n\r\n\r\n\r\n                    }, 1);\r\n                    this.AddScore(1);\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n    DestroyBall() {\r\n\r\n    },\r\n    //addindex=0，红色加分\r\n    AddScore(addIndex) {\r\n        if (addIndex == 0) {\r\n            this.redScore += 1;\r\n            this.redScoreLabel.setNumber(this.redScore);\r\n            this.SoundMGR.playScore();\r\n        }\r\n        else {\r\n            this.blueScore += 1;\r\n            this.blueScoreLabel.setNumber(this.blueScore);\r\n            this.SoundMGR.playScore();\r\n        }\r\n    },\r\n    // update (dt) {},\r\n    SpawnNewBall(bIndex) {\r\n        if (bIndex == 0)//spawn red\r\n        {\r\n            if (this.newRed < 1) {\r\n                this.SoundMGR.playBlob();\r\n                this.redIndex += 1;\r\n                var rd = Math.floor(Math.random() * 4);\r\n                cc.log(rd);\r\n                var newObj = cc.instantiate(this.RedBallPres[rd]);\r\n                newObj.active = true;\r\n                newObj.name = this.redIndex.toString();\r\n                newObj.parent = this.RedBallParent;\r\n                newObj.setPosition(0, 0);\r\n                // newObj.parent = this.RedBallParent;\r\n                // newObj.x = this.RedBallParent.x;\r\n                // newObj.y = this.RedBallParent.y;\r\n                cc.log(newObj.position);\r\n                this.newRed += 1;\r\n            }\r\n        }\r\n        else {\r\n            if (this.newBlue < 1) {\r\n                this.SoundMGR.playBlob();\r\n                this.blueIndex += 1;\r\n                var rd = Math.floor(Math.random() * 4);\r\n                cc.log(rd);\r\n                var newObj = cc.instantiate(this.BlueBallPres[rd]);\r\n                newObj.active = true;\r\n                newObj.name = this.blueIndex.toString();\r\n                newObj.parent = this.BlueBallParent;\r\n                newObj.setPosition(0, 0);\r\n                // newObj.parent = this.RedBallParent;\r\n                // newObj.x = this.RedBallParent.x;\r\n                // newObj.y = this.RedBallParent.y;\r\n                cc.log(newObj.position);\r\n                this.newBlue += 1;\r\n            }\r\n        }\r\n    }\r\n});\r\n"]}