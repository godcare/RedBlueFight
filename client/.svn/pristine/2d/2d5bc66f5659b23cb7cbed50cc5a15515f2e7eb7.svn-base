{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\MainMenu/assets\\Scripts\\Control\\MainMenu\\MainMenuControl.js"],"names":["SoundManager","require","cc","Class","extends","Component","properties","SoundMGR","default","type","MaxSchedulerLabel","Label","RedPoint","BluePoint","GameIcons","Node","GameIconSprites","SpriteFrame","ScheduleSelectSprites","StartSprite","IsSelectPanelOn","SelectedGamePanel","SelectGameSwitch","GameListPanel","ScheduleGameParent","SoundBtn","SoundFxBtn","FillOrRandomBtn","soundSprites","soundFxSprites","currentSelectedIndex","start","InitData","i","getChildByName","getComponent","string","Global","GameData","AllGames","displayName","PlayedGameCount","playTitleBGM","audioEngine","getMusicVolume","Sprite","spriteFrame","getEffectsVolume","toString","SetScheduler","onSoundSwitch","event","customEventData","log","setMusicVolume","onSoundFxSwitch","setEffectsVolume","ScheduledGames","length","MaxSchedulerCount","find","Button","enabled","opacity","active","MaxChooseCount","tmpI","indexOf","color","Color","BLUE","WHITE","ORANGE","GRAY","OnRemoveThisClick","tmpS","splice","OnFillOrRandomClick","MaxFinishedCount","tmpIndex","push","targetI","Math","floor","random","tmp","OnClearClick","OnSelectGameClicked","action","moveBy","runAction","OnScheduledGameClicked","OnGameIconClicked","OnScheduleStart","TotalGameCount","IsPlayForFun","ResultArray","LastSceneName","director","loadScene","OnPlayThisClick","OnCloseSelectedPanelButton","OnRoundSwitch"],"mappings":"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","file":"MainMenuControl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\MainMenu","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar SoundManager = require(\"SoundManager\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        MaxSchedulerLabel:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        RedPoint:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        BluePoint:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        GameIcons:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n\r\n        },\r\n        GameIconSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        ScheduleSelectSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        StartSprite:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        IsSelectPanelOn:\r\n        {\r\n            default: false,\r\n        },\r\n        SelectedGamePanel:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SelectGameSwitch:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        GameListPanel:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        ScheduleGameParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SoundBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        SoundFxBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        FillOrRandomBtn:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        soundSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        soundFxSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        currentSelectedIndex: -1,\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.InitData();\r\n\r\n    },\r\n\r\n    InitData: function () {\r\n        //初始化游戏图标\r\n        for (var i = 0; i < 8; i++) {\r\n            this.GameIcons[i].getChildByName(\"Name\").getComponent(cc.Label).string = Global.GameData.AllGames[i].displayName;\r\n        }\r\n        Global.GameData.PlayedGameCount = 0;\r\n        this.SoundMGR.playTitleBGM();\r\n        if (cc.audioEngine.getMusicVolume() > 0) {\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[1];\r\n        }\r\n        else {\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[0];\r\n        }\r\n        if (cc.audioEngine.getEffectsVolume() > 0) {\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[1];\r\n        }\r\n        else {\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[0];\r\n        }\r\n        this.RedPoint.string = Global.GameData.RedPoint.toString();\r\n        this.BluePoint.string = Global.GameData.BluePoint.toString();\r\n        this.SetScheduler();\r\n    },\r\n\r\n    onSoundSwitch(event, customEventData) {\r\n        cc.log(cc.audioEngine.getMusicVolume());\r\n        if (cc.audioEngine.getMusicVolume() > 0) {\r\n            cc.audioEngine.setMusicVolume(0.0);\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[0];\r\n        }\r\n        else {\r\n            cc.audioEngine.setMusicVolume(1);\r\n            this.SoundBtn.getComponent(cc.Sprite).spriteFrame = this.soundSprites[1];\r\n        }\r\n    },\r\n\r\n    onSoundFxSwitch(event, customEventData) {\r\n        if (cc.audioEngine.getEffectsVolume() > 0) {\r\n            cc.audioEngine.setEffectsVolume(0);\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[0];\r\n        }\r\n        else {\r\n            cc.audioEngine.setEffectsVolume(1);\r\n            this.SoundFxBtn.getComponent(cc.Sprite).spriteFrame = this.soundFxSprites[1];\r\n        }\r\n\r\n    },\r\n    //设置排上日程的游戏列表\r\n    SetScheduler: function () {\r\n        cc.log(\"Setting Scheduler\");\r\n        cc.log(\"Plan Game:\");\r\n        for (var i = 0; i < Global.GameData.ScheduledGames.length; i++) {\r\n            cc.log(Global.GameData.ScheduledGames[i]);\r\n        }\r\n        this.MaxSchedulerLabel.string = Global.GameData.MaxSchedulerCount;\r\n        //设置已选\r\n        for (var i = 0; i < Global.GameData.ScheduledGames.length; i++) {\r\n            //设置底部游戏列表\r\n            // cc.find(\"List/\" + Global.GameData.ScheduledGames[i].toString() + \"/Mark\", this.GameListPanel).active = true;\r\n            // cc.find(\"List/\" + Global.GameData.ScheduledGames[i].toString() + \"/Name\", this.GameListPanel).color = new cc.color(255, 255, 255, 255);\r\n\r\n            //设置中部游戏日程表\r\n            if (i < Global.GameData.MaxSchedulerCount) {\r\n                cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = true;\r\n                cc.find(i.toString(), this.ScheduleGameParent).opacity = 255;\r\n            }\r\n            else {\r\n                // cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = false;\r\n                cc.find(i.toString(), this.ScheduleGameParent).opacity = 120;\r\n            }\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.GameIconSprites[Global.GameData.ScheduledGames[i]];\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).getComponent(cc.Label).string = Global.GameData.AllGames[Global.GameData.ScheduledGames[i]].displayName;\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).active = true;\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).active = true;\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.ScheduleSelectSprites[0];\r\n\r\n        }\r\n        //设置未选\r\n        for (var i = Global.GameData.ScheduledGames.length; i < Global.GameData.MaxChooseCount; i++) {\r\n            cc.find(i.toString() + \"/Icon\", this.ScheduleGameParent).active = false;\r\n            cc.find(i.toString() + \"/Name\", this.ScheduleGameParent).active = false;\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Sprite).spriteFrame = this.ScheduleSelectSprites[1];\r\n        }\r\n\r\n        for (var i = 0; i < Global.GameData.MaxSchedulerCount; i++) {\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = true;\r\n\r\n        }\r\n\r\n        for (var i = Global.GameData.MaxSchedulerCount; i < Global.GameData.MaxChooseCount; i++) {\r\n            cc.find(i.toString(), this.ScheduleGameParent).getComponent(cc.Button).enabled = false;\r\n\r\n        }\r\n        for (var i = 0; i < 8; i++) {\r\n            var tmpI = Global.GameData.ScheduledGames.indexOf(i.toString());\r\n            if (tmpI == -1) {\r\n                cc.log(\"Game\" + i + \"Not In\");\r\n                cc.find(\"List/\" + i.toString() + \"/Mark\", this.GameListPanel).active = false;\r\n                cc.find(\"List/\" + i.toString() + \"/Name\", this.GameListPanel).color = cc.Color.BLUE;\r\n            }\r\n            else {\r\n                cc.log(\"Game\" + i + \"In\");\r\n                cc.find(\"List/\" + i.toString() + \"/Mark\", this.GameListPanel).active = true;\r\n                cc.find(\"List/\" + i.toString() + \"/Name\", this.GameListPanel).color = cc.Color.WHITE;\r\n            }\r\n        }\r\n        //验证是否满足开始条件\r\n        if (Global.GameData.ScheduledGames.length >= Global.GameData.MaxSchedulerCount) {\r\n            this.StartSprite.color = cc.Color.ORANGE;\r\n            this.StartSprite.getComponent(cc.Button).enabled = true;\r\n        }\r\n        else {\r\n            this.StartSprite.color = cc.Color.GRAY;\r\n            this.StartSprite.getComponent(cc.Button).enabled = false;\r\n        }\r\n\r\n        if (Global.GameData.ScheduledGames.length < Global.GameData.MaxChooseCount) {\r\n            cc.find(\"Label\", this.FillOrRandomBtn).getComponent(cc.Label).string = \"填满\";\r\n        }\r\n        else {\r\n            cc.find(\"Label\", this.FillOrRandomBtn).getComponent(cc.Label).string = \"重排\";\r\n        }\r\n    },\r\n    OnRemoveThisClick(event, customEventData) {\r\n        var tmpS = Global.GameData.ScheduledGames.indexOf(this.currentSelectedIndex.toString());\r\n        Global.GameData.ScheduledGames.splice(tmpS, 1);\r\n        this.SetScheduler();\r\n        this.SelectedGamePanel.active = false;\r\n    },\r\n\r\n    OnFillOrRandomClick(event, customEventData) {\r\n        if (Global.GameData.ScheduledGames.length < Global.GameData.MaxChooseCount) {//填满操作\r\n            for (var i = 0; i < Global.GameData.MaxFinishedCount; i++) {\r\n                var tmpIndex = Global.GameData.ScheduledGames.indexOf(i.toString());\r\n                if (tmpIndex == -1) {\r\n                    Global.GameData.ScheduledGames.push(i.toString());\r\n                    if (Global.GameData.ScheduledGames.length >= Global.GameData.MaxChooseCount) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {//重排操作\r\n            cc.log(\"rerange before:\" + Global.GameData.ScheduledGames);\r\n            for (var i = 0; i < Global.GameData.ScheduledGames.length; i++) {\r\n                var targetI = Math.floor(Math.random() * (Global.GameData.ScheduledGames.length - 1));\r\n                var tmp = Global.GameData.ScheduledGames[i];\r\n                cc.log(\"ti:\" + targetI + \" tmpV:\" + tmp + \" i:\" + i + \" targetV:\" + Global.GameData.ScheduledGames[targetI]);\r\n                Global.GameData.ScheduledGames[i] = Global.GameData.ScheduledGames[targetI];\r\n                Global.GameData.ScheduledGames[targetI] = tmp;\r\n            }\r\n            cc.log(\"rerange after:\" + Global.GameData.ScheduledGames);\r\n        }\r\n        this.SetScheduler();\r\n    },\r\n\r\n    OnClearClick(event, customEventData) {\r\n        Global.GameData.ScheduledGames = [];\r\n        this.SetScheduler();\r\n    },\r\n    //下方游戏列表单元点击\r\n    OnSelectGameClicked(event, customEventData) {\r\n        if (this.IsSelectPanelOn) {\r\n            var action = cc.moveBy(0.3, 0, -300);\r\n            this.GameListPanel.getChildByName(\"Mask\").active = false;\r\n            this.GameListPanel.runAction(action);\r\n            this.IsSelectPanelOn = false;\r\n            this.SelectGameSwitch.getChildByName(\"Label\").getComponent(cc.Label).string = \"选择游戏\";\r\n        }\r\n        else {\r\n            var action = cc.moveBy(0.3, 0, 300);\r\n            this.GameListPanel.getChildByName(\"Mask\").active = true;\r\n            this.GameListPanel.runAction(action);\r\n            this.IsSelectPanelOn = true;\r\n            this.SelectGameSwitch.getChildByName(\"Label\").getComponent(cc.Label).string = \"我选好了\";\r\n        }\r\n    },\r\n\r\n    //已安排游戏点击\r\n    OnScheduledGameClicked(event, customEventData) {\r\n        this.currentSelectedIndex = Global.GameData.ScheduledGames[customEventData];\r\n        this.SelectedGamePanel.active = true;\r\n        cc.find(\"IconPanel/Icon\", this.SelectedGamePanel).getComponent(cc.Sprite).spriteFrame = this.GameIconSprites[this.currentSelectedIndex];\r\n        cc.find(\"SelectedGameName\", this.SelectedGamePanel).getComponent(cc.Label).string = Global.GameData.AllGames[this.currentSelectedIndex].displayName;\r\n    },\r\n\r\n    OnGameIconClicked(event, customEventData) {\r\n        cc.log(customEventData);\r\n        if (this.IsSelectPanelOn) {\r\n            var tmpIndex = Global.GameData.ScheduledGames.indexOf(customEventData);\r\n            if (customEventData <= Global.GameData.MaxFinishedCount - 1) //没完工的游戏先不往上放\r\n            {\r\n                if (Global.GameData.ScheduledGames.length < Global.GameData.MaxChooseCount) {//还可以接着选\r\n                    if (tmpIndex == -1) {\r\n                        if (Global.GameData.ScheduledGames.length < Global.GameData.MaxSchedulerCount) //原先没有就加并且还没达到开局要求\r\n                        {\r\n                            Global.GameData.ScheduledGames.push(customEventData);\r\n                        }\r\n                    }\r\n                    else//原先有就删\r\n                    {\r\n                        Global.GameData.ScheduledGames.splice(tmpIndex, 1);\r\n                    }\r\n                    this.SetScheduler();\r\n                }\r\n\r\n            }\r\n        }\r\n        else {\r\n\r\n        }\r\n    },\r\n    OnScheduleStart(event, customEventData) {\r\n        Global.GameData.TotalGameCount = Global.GameData.MaxSchedulerCount;\r\n        Global.GameData.IsPlayForFun = false;\r\n        Global.GameData.ResultArray = [];\r\n        Global.GameData.PlayedGameCount = 0;\r\n        Global.GameData.LastSceneName = \"GameScene\" + Global.GameData.ScheduledGames[0].toString();\r\n        cc.director.loadScene(\"GameScene\" + Global.GameData.ScheduledGames[0].toString());\r\n    },\r\n    OnPlayThisClick(event, customEventData) {\r\n        Global.GameData.TotalGameCount = 7;\r\n        Global.GameData.IsPlayForFun = true;\r\n        Global.GameData.ResultArray = [];\r\n        Global.GameData.PlayedGameCount = 0;\r\n        Global.GameData.LastSceneName = \"GameScene\" + this.currentSelectedIndex.toString();\r\n        cc.director.loadScene(\"GameScene\" + this.currentSelectedIndex.toString());\r\n    },\r\n\r\n    OnCloseSelectedPanelButton(event, customEventData) {\r\n        this.SelectedGamePanel.active = false;\r\n\r\n    },\r\n\r\n    OnRoundSwitch(event, customEventData) {\r\n        if (customEventData == 1) {\r\n            if (Global.GameData.MaxSchedulerCount <= 5) {\r\n                Global.GameData.MaxSchedulerCount += 2;\r\n            }\r\n        }\r\n        else {\r\n            if (Global.GameData.MaxSchedulerCount >= 5) {\r\n                Global.GameData.MaxSchedulerCount -= 2;\r\n            }\r\n        }\r\n        this.SetScheduler();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}