{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game17/assets\\Scripts\\Control\\Games\\Game17\\Game17Control.js"],"names":["SoundManager","require","MySpriteNumber","cc","Class","extends","Component","properties","SoundMGR","default","type","GameResultNode","Node","CountDownNode","PauseNode","rSprite","SpriteFrame","bSprite","redScoreNumber","blueScoreNumber","GameStatus","rListRed","rListBlue","rBallParent","bBallParent","rLineIndex","bLineIndex","rScore","bScore","start","startAnimation","scheduleOnce","active","generateAllList","i","tmpr","Math","floor","random","tmpb","push","j","find","getComponent","Sprite","spriteFrame","color","Color","WHITE","Button","enabled","GRAY","onBallClick","event","customEventData","indexOf","moveDown","log","colorIndex","ma","moveBy","Vec2","runAction","setNumber","Global","GameData","CurrentWinner","tmpLine","k","y"],"mappings":"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","file":"Game17Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game17","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\nvar SoundManager = require(\"SoundManager\");\r\nvar MySpriteNumber = require(\"MySpriteNumber\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        rSprite:\r\n        {\r\n            default: null,\r\n            type: cc.SpriteFrame,\r\n        },\r\n        bSprite:\r\n        {\r\n            default: null,\r\n            type: cc.SpriteFrame,\r\n        },\r\n        redScoreNumber:\r\n        {\r\n            default: null,\r\n            type: MySpriteNumber,\r\n        },\r\n\r\n        blueScoreNumber:\r\n        {\r\n            default: null,\r\n            type: MySpriteNumber,\r\n        },\r\n        GameStatus: 0,//0未开始，1开始了，2结束了\r\n        rListRed: [],\r\n        rListBlue: [],\r\n        rBallParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        bBallParent:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        rLineIndex: 2,\r\n        bLineIndex: 2,\r\n        rScore: 0,\r\n        bScore: 0,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.startAnimation();\r\n        // cc.log(this.Coin.scaleX);\r\n    },\r\n\r\n    startAnimation() {\r\n\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n            this.generateAllList();\r\n        }, 4.5);\r\n\r\n    },\r\n    generateAllList() {\r\n        for (var i = 0; i < 5; i++) {\r\n            var tmpr = Math.floor(Math.random() * 4);\r\n            var tmpb = Math.floor(Math.random() * 4);\r\n            this.rListRed.push(tmpr);\r\n            this.rListBlue.push(tmpb);\r\n            for (var j = 0; j < 4; j++) {\r\n                //set red\r\n                if (j == tmpr) {\r\n                    cc.find(\"r\" + i + j, this.rBallParent).getComponent(cc.Sprite).spriteFrame = this.rSprite;\r\n\r\n                }\r\n                else {\r\n                    cc.find(\"r\" + i + j, this.rBallParent).getComponent(cc.Sprite).spriteFrame = this.bSprite;\r\n                }\r\n                if (i == this.rLineIndex) {\r\n                    cc.find(\"r\" + i + j, this.rBallParent).color = cc.Color.WHITE;\r\n                    cc.find(\"r\" + i + j, this.rBallParent).getComponent(cc.Button).enabled = true;\r\n                }\r\n                else {\r\n                    cc.find(\"r\" + i + j, this.rBallParent).color = cc.Color.GRAY;\r\n                    cc.find(\"r\" + i + j, this.rBallParent).getComponent(cc.Button).enabled = false;\r\n                }\r\n                //set blue\r\n                if (j == tmpb) {\r\n                    cc.find(\"b\" + i + j, this.bBallParent).getComponent(cc.Sprite).spriteFrame = this.bSprite;\r\n\r\n                }\r\n                else {\r\n                    cc.find(\"b\" + i + j, this.bBallParent).getComponent(cc.Sprite).spriteFrame = this.rSprite;\r\n                }\r\n                if (i == this.bLineIndex) {\r\n                    cc.find(\"b\" + i + j, this.bBallParent).color = cc.Color.WHITE;\r\n                    cc.find(\"b\" + i + j, this.bBallParent).getComponent(cc.Button).enabled = true;\r\n                }\r\n                else {\r\n                    cc.find(\"b\" + i + j, this.bBallParent).color = cc.Color.GRAY;\r\n                    cc.find(\"b\" + i + j, this.bBallParent).getComponent(cc.Button).enabled = false;\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n        this.rBallParent.active = true;\r\n        this.bBallParent.active = true;\r\n    },\r\n\r\n    onBallClick(event, customEventData) {\r\n        if (this.GameStatus == 1) {\r\n            if (customEventData.indexOf(\"r\") != -1) {\r\n                if (cc.find(customEventData, this.rBallParent).getComponent(cc.Sprite).spriteFrame == this.rSprite) {\r\n                    this.moveDown(0);\r\n                }\r\n                else {\r\n                    cc.log(\"red wrong\");\r\n                }\r\n            }\r\n            else {\r\n                if (cc.find(customEventData, this.bBallParent).getComponent(cc.Sprite).spriteFrame == this.bSprite) {\r\n                    this.moveDown(1);\r\n                }\r\n                else {\r\n                    cc.log(\"red wrong\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    moveDown(colorIndex) {\r\n        if (colorIndex == 0)//red move down\r\n        {\r\n            for (var i = 0; i < 5; i++) {\r\n\r\n                for (var j = 0; j < 4; j++) {\r\n                    var ma = cc.moveBy(0.3, new cc.Vec2(0, -135));\r\n                    cc.find(\"r\" + i + j, this.rBallParent).runAction(ma);\r\n                }\r\n\r\n            }\r\n            this.rScore += 1;\r\n            this.redScoreNumber.setNumber(this.rScore);\r\n            if (this.rScore >= 25) {\r\n\r\n                this.GameStatus = 2;\r\n                Global.GameData.CurrentWinner = 0;\r\n                this.GameResultNode.active = true;\r\n            }\r\n            this.scheduleOnce(function () {\r\n                var tmpLine = this.rLineIndex + 1;\r\n                if (tmpLine > 4) {\r\n                    tmpLine = 0;\r\n                }\r\n                this.rLineIndex -= 1;\r\n                if (this.rLineIndex < 0) {\r\n                    this.rLineIndex = 4;\r\n                }\r\n                var tmpr = Math.floor(Math.random() * 4);\r\n                for (var k = 0; k < 4; k++) {\r\n                    cc.find(\"r\" + tmpLine + k, this.rBallParent).y = 270;\r\n                    cc.find(\"r\" + tmpLine + k, this.rBallParent).color = cc.Color.GRAY;\r\n                    cc.find(\"r\" + tmpLine + k, this.rBallParent).getComponent(cc.Button).enabled = false;\r\n                    if (k == tmpr) {\r\n                        cc.find(\"r\" + tmpLine + k, this.rBallParent).getComponent(cc.Sprite).spriteFrame = this.rSprite;\r\n\r\n                    }\r\n                    else {\r\n                        cc.find(\"r\" + tmpLine + k, this.rBallParent).getComponent(cc.Sprite).spriteFrame = this.bSprite;\r\n                    }\r\n                    cc.find(\"r\" + this.rLineIndex + k, this.rBallParent).color = cc.Color.WHITE;\r\n                    cc.find(\"r\" + this.rLineIndex + k, this.rBallParent).getComponent(cc.Button).enabled = true;\r\n                }\r\n            }\r\n                , 0.3);\r\n        }\r\n        else {\r\n            for (var i = 0; i < 5; i++) {\r\n\r\n                for (var j = 0; j < 4; j++) {\r\n                    var ma = cc.moveBy(0.3, new cc.Vec2(0, -135));\r\n                    cc.find(\"b\" + i + j, this.bBallParent).runAction(ma);\r\n                }\r\n\r\n            }\r\n            this.bScore += 1;\r\n            this.blueScoreNumber.setNumber(this.bScore);\r\n            if (this.bScore >= 25) {\r\n\r\n                this.GameStatus = 2;\r\n                Global.GameData.CurrentWinner = 1;\r\n                this.GameResultNode.active = true;\r\n            }\r\n            this.scheduleOnce(function () {\r\n                var tmpLine = this.bLineIndex + 1;\r\n                if (tmpLine > 4) {\r\n                    tmpLine = 0;\r\n                }\r\n                this.bLineIndex -= 1;\r\n                if (this.bLineIndex < 0) {\r\n                    this.bLineIndex = 4;\r\n                }\r\n                var tmpb = Math.floor(Math.random() * 4);\r\n                for (var k = 0; k < 4; k++) {\r\n                    cc.find(\"b\" + tmpLine + k, this.bBallParent).y = 270;\r\n                    cc.find(\"b\" + tmpLine + k, this.bBallParent).color = cc.Color.GRAY;\r\n                    cc.find(\"b\" + tmpLine + k, this.bBallParent).getComponent(cc.Button).enabled = false;\r\n                    if (k == tmpb) {\r\n                        cc.find(\"b\" + tmpLine + k, this.bBallParent).getComponent(cc.Sprite).spriteFrame = this.bSprite;\r\n\r\n                    }\r\n                    else {\r\n                        cc.find(\"b\" + tmpLine + k, this.bBallParent).getComponent(cc.Sprite).spriteFrame = this.rSprite;\r\n                    }\r\n                    cc.find(\"b\" + this.bLineIndex + k, this.bBallParent).color = cc.Color.WHITE;\r\n                    cc.find(\"b\" + this.bLineIndex + k, this.bBallParent).getComponent(cc.Button).enabled = true;\r\n                }\r\n            }\r\n                , 0.3);\r\n        }\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}