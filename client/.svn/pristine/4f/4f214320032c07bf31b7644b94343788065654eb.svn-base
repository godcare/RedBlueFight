{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game16/assets\\Scripts\\Control\\Games\\Game16\\Game16Control.js"],"names":["SoundManager","require","cc","Class","extends","Component","properties","SoundMGR","default","type","GameResultNode","Node","CountDownNode","PauseNode","GameStatus","CountDownLabel","Label","ClockObj","RedBalls","BlueBalls","redSprites","SpriteFrame","blueSprites","redBallSprites","blueBallSprites","cloclSprites","randomListRed","randomListBlue","playStatus","isRedEnabled","isBlueEnabled","countDownSeconds","tmpTimer","redFlag","blueFlag","orderFlag","start","startAnimation","scheduleOnce","active","generateList","showList","log","onClickBall","event","customEventData","indexOf","clickIndex","substr","playPop","find","getComponent","Sprite","spriteFrame","HideBalls","rotation","SwitchBalls","ShowBalls","playRebounce","colorIndex","i","scale","Vec2","y","sa","scaleTo","runAction","ra","rotateBy","cra","ma","moveTo","x","opacity","Button","enabled","aa","fadeTo","tmpListr","tr","Math","floor","random","length","ti","push","toString","splice","tmpListb","update","dt","string","Global","GameData","CurrentWinner"],"mappings":"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","file":"Game16Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game16","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\nvar SoundManager = require(\"SoundManager\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        SoundMGR:\r\n        {\r\n            default: null,\r\n            type: SoundManager,\r\n        },\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        GameStatus: 0,//0未开始，1开始了，2结束了\r\n        CountDownLabel:\r\n        {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        ClockObj:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        RedBalls:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        BlueBalls:\r\n        {\r\n            default: [],\r\n            type: [cc.Node],\r\n        },\r\n        redSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        blueSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        redBallSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        blueBallSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        cloclSprites:\r\n        {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n        },\r\n        randomListRed: [],\r\n        randomListBlue: [],\r\n        playStatus: -1,//正在打的状态，0为红，1为蓝,-1为刚开局的待定\r\n        isRedEnabled: false,\r\n        isBlueEnabled: false,\r\n        countDownSeconds: 10,//倒计时\r\n        tmpTimer: 0,\r\n        redFlag: 0,\r\n        blueFlag: 0,\r\n        orderFlag: -1,//先手顺序，-1为待定，0为红，1位蓝色\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.startAnimation();\r\n        // cc.log(this.Coin.scaleX);\r\n    },\r\n    startAnimation() {\r\n\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n            this.generateList(0);\r\n            this.generateList(1);\r\n            this.showList(0);\r\n            this.showList(1);\r\n            cc.log(this.randomListBlue);\r\n        }, 4.5);\r\n\r\n    },\r\n\r\n    onClickBall(event, customEventData) {\r\n        if (customEventData.indexOf(\"r\") != -1) {//red click\r\n            var clickIndex = customEventData.substr(1, 1);\r\n            if (this.playStatus == -1 || this.playStatus == 0 || this.isRedEnabled) {\r\n                if (this.redFlag == this.randomListRed[clickIndex - 1] - 1) {\r\n                    this.redFlag += 1;\r\n                    this.SoundMGR.playPop();\r\n                    cc.find(\"Canvas/GameCore/\" + customEventData + \"/ball\", this.Node).getComponent(cc.Sprite).spriteFrame = this.redBallSprites[1];\r\n                    if (this.redFlag >= 4) {\r\n                        this.redFlag = 0;\r\n                        if (this.orderFlag == -1) {\r\n                            this.orderFlag = 0;\r\n                            this.HideBalls(0);\r\n                            this.countDownSeconds = 10;\r\n\r\n                            this.playStatus = 1;\r\n                            this.ClockObj.rotation = 180;\r\n                            cc.find(\"Image\", this.ClockObj).getComponent(cc.Sprite).spriteFrame = this.cloclSprites[0];\r\n                            this.ClockObj.active = true;\r\n                        }\r\n                        else {\r\n                            this.playStatus = 2;\r\n                            this.SwitchBalls(0);\r\n                            this.scheduleOnce(function () {\r\n                                this.generateList(1);\r\n                                this.ShowBalls(1);\r\n                                this.showList(1);\r\n                                cc.find(\"Image\", this.ClockObj).getComponent(cc.Sprite).spriteFrame = this.cloclSprites[0];\r\n                                this.playStatus = 1;\r\n                                if (this.orderFlag == 1) {\r\n                                    this.countDownSeconds += 5;\r\n                                    if (this.countDownSeconds > 10) {\r\n                                        this.countDownSeconds = 10;\r\n                                    }\r\n                                }\r\n                            }, 1);\r\n                        }\r\n                    }\r\n                }\r\n                else if (this.redFlag < this.randomListRed[clickIndex - 1] - 1) {\r\n                    this.SoundMGR.playRebounce();\r\n                    this.countDownSeconds -= 1;\r\n                    if (this.countDownSeconds < 0) {\r\n                        this.countDownSeconds = 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (customEventData.indexOf(\"b\") != -1) {//blue click\r\n            var clickIndex = customEventData.substr(1, 1);\r\n            if (this.playStatus == -1 || this.playStatus == 1 || this.isBlueEnabled) {\r\n                cc.log(\"blue flag:\" + this.blueFlag + \" array:\" + this.randomListBlue + \" clicked:\" + clickIndex);\r\n                if (this.blueFlag == this.randomListBlue[clickIndex - 1] - 1) {\r\n                    this.blueFlag += 1;\r\n                    this.SoundMGR.playPop();\r\n                    cc.find(\"Canvas/GameCore/\" + customEventData + \"/ball\", this.Node).getComponent(cc.Sprite).spriteFrame = this.blueBallSprites[1];\r\n                    if (this.blueFlag >= 4) {\r\n\r\n                        this.blueFlag = 0;\r\n                        if (this.orderFlag == -1) {\r\n                            this.orderFlag = 1;\r\n                            this.HideBalls(1);\r\n                            this.playStatus = 0;\r\n                            this.countDownSeconds = 10;\r\n                            this.ClockObj.rotation = 0;\r\n                            cc.find(\"Image\", this.ClockObj).getComponent(cc.Sprite).spriteFrame = this.cloclSprites[1];\r\n                            this.ClockObj.active = true;\r\n                        }\r\n                        else {\r\n                            this.playStatus = 2;\r\n                            this.SwitchBalls(1);\r\n                            this.scheduleOnce(function () {\r\n                                this.generateList(0);\r\n                                this.ShowBalls(0);\r\n                                this.showList(0);\r\n                                this.playStatus = 0;\r\n                                cc.find(\"Image\", this.ClockObj).getComponent(cc.Sprite).spriteFrame = this.cloclSprites[1];\r\n                                if (this.orderFlag == 0) {\r\n                                    this.countDownSeconds += 5;\r\n                                    if (this.countDownSeconds > 10) {\r\n                                        this.countDownSeconds = 10;\r\n                                    }\r\n                                }\r\n                            }, 1);\r\n                        }\r\n                    }\r\n                }\r\n                else if (this.blueFlag < this.randomListBlue[clickIndex - 1] - 1) {\r\n                    this.SoundMGR.playRebounce();\r\n                    this.countDownSeconds -= 1;\r\n                    if (this.countDownSeconds < 0) {\r\n                        this.countDownSeconds = 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n\r\n    ShowBalls(colorIndex) {\r\n        if (colorIndex == 0) {\r\n            for (var i = 0; i < 4; i++) {\r\n                this.RedBalls[i].scale = new cc.Vec2(0, 0);\r\n                this.RedBalls[i].y = -350;\r\n                this.RedBalls[i].active = true;\r\n                var sa = cc.scaleTo(0.1, 1, 1);\r\n\r\n                this.RedBalls[i].runAction(sa);\r\n\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < 4; i++) {\r\n                this.BlueBalls[i].scale = new cc.Vec2(0, 0);\r\n                this.BlueBalls[i].y = 350;\r\n                this.BlueBalls[i].active = true;\r\n                var sa = cc.scaleTo(0.1, 1, 1);\r\n\r\n                this.BlueBalls[i].runAction(sa);\r\n            }\r\n        }\r\n    },\r\n\r\n    HideBalls(colorIndex) {\r\n        if (colorIndex == 0)//red\r\n        {\r\n            for (var i = 0; i < 4; i++) {\r\n                var ra = cc.rotateBy(1, 2160);\r\n\r\n                var sa = cc.scaleTo(1, 0, 0);\r\n                this.RedBalls[i].runAction(ra);\r\n                this.RedBalls[i].runAction(sa);\r\n\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < 4; i++) {\r\n                var ra = cc.rotateBy(1, 2160);\r\n\r\n                var sa = cc.scaleTo(1, 0, 0);\r\n                this.BlueBalls[i].runAction(ra);\r\n                this.BlueBalls[i].runAction(sa);\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    SwitchBalls(colorIndex) {\r\n        cc.find(\"Image\", this.ClockObj).getComponent(cc.Sprite).spriteFrame = this.cloclSprites[2];\r\n        if (colorIndex == 0)//red\r\n        {\r\n            var cra = cc.rotateBy(1, 180);\r\n            this.ClockObj.runAction(cra);\r\n            for (var i = 0; i < 4; i++) {\r\n                var ra = cc.rotateBy(1, 2160);\r\n                var ma = cc.moveTo(1, this.RedBalls[i].x, 350);\r\n                var sa = cc.scaleTo(1, 0, 0);\r\n\r\n                this.RedBalls[i].runAction(ra);\r\n                this.RedBalls[i].runAction(sa);\r\n                this.RedBalls[i].runAction(ma);\r\n                this.isBlueEnabled = false;\r\n                this.isRedEnabled = false;\r\n            }\r\n        }\r\n        else {\r\n            var cra = cc.rotateBy(1, 180);\r\n            this.ClockObj.runAction(cra);\r\n            for (var i = 0; i < 4; i++) {\r\n                var ra = cc.rotateBy(1, 2160);\r\n                var ma = cc.moveTo(1, this.BlueBalls[i].x, -350);\r\n                var sa = cc.scaleTo(1, 0, 0);\r\n                this.BlueBalls[i].runAction(ra);\r\n                this.BlueBalls[i].runAction(sa);\r\n                this.BlueBalls[i].runAction(ma);\r\n                this.isBlueEnabled = false;\r\n                this.isRedEnabled = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    showList(colorIndex) {\r\n        if (colorIndex == 0)//red\r\n        {\r\n            // cc.log(this.randomListRed);\r\n            for (var i = 0; i < 4; i++) {\r\n                cc.find(\"index\", this.RedBalls[i]).getComponent(cc.Sprite).spriteFrame = this.redSprites[this.randomListRed[i] - 1];\r\n                cc.find(\"index\", this.RedBalls[i]).opacity = 0;\r\n                cc.find(\"index\", this.RedBalls[i]).active = true;\r\n                this.RedBalls[i].getComponent(cc.Button).enabled = true;\r\n                cc.find(\"ball\", this.RedBalls[i]).getComponent(cc.Sprite).spriteFrame = this.redBallSprites[0];\r\n                var aa = cc.fadeTo(0.3, 255);\r\n                cc.find(\"index\", this.RedBalls[i]).runAction(aa);\r\n                this.isRedEnabled = true;\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < 4; i++) {\r\n                cc.find(\"index\", this.BlueBalls[i]).getComponent(cc.Sprite).spriteFrame = this.blueSprites[this.randomListBlue[i] - 1];\r\n                cc.find(\"index\", this.BlueBalls[i]).opacity = 0;\r\n                cc.find(\"index\", this.BlueBalls[i]).active = true;\r\n                this.BlueBalls[i].getComponent(cc.Button).enabled = true;\r\n                cc.find(\"ball\", this.BlueBalls[i]).getComponent(cc.Sprite).spriteFrame = this.blueBallSprites[0];\r\n                var aa = cc.fadeTo(0.3, 255);\r\n                cc.find(\"index\", this.BlueBalls[i]).runAction(aa);\r\n                this.isBlueEnabled = true;\r\n            }\r\n        }\r\n    },\r\n\r\n    generateList(colorIndex) {\r\n\r\n        if (colorIndex == 0)//red\r\n        {\r\n            var tmpListr = [1, 2, 3, 4];\r\n            this.randomListRed = [];\r\n            for (var i = 0; i < 4; i++) {\r\n                var tr = Math.floor(Math.random() * tmpListr.length);\r\n                var ti = tmpListr[tr];\r\n                this.randomListRed.push(ti.toString());\r\n                tmpListr.splice(tr, 1);\r\n            }\r\n        }\r\n        else {\r\n            var tmpListb = [1, 2, 3, 4];\r\n            this.randomListBlue = [];\r\n            for (var i = 0; i < 4; i++) {\r\n                var tr = Math.floor(Math.random() * tmpListb.length);\r\n                var ti = tmpListb[tr];\r\n                this.randomListBlue.push(ti.toString());\r\n                tmpListb.splice(tr, 1);\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    update(dt) {\r\n        if (this.GameStatus == 1) {\r\n            if (this.playStatus == 0 || this.playStatus == 1) {\r\n                this.tmpTimer += dt;\r\n                if (this.tmpTimer >= 1) {\r\n                    this.tmpTimer = 0;\r\n                    this.countDownSeconds -= 1;\r\n                    if (this.countDownSeconds <= 0) {\r\n                        this.countDownSeconds = 0;\r\n\r\n                    }\r\n                }\r\n                this.CountDownLabel.string = this.countDownSeconds;\r\n            }\r\n            else {\r\n                this.tmpTimer += dt;\r\n                if (this.tmpTimer >= 1) {\r\n                    this.tmpTimer = 0;\r\n                    this.countDownSeconds -= 1;\r\n                    if (this.countDownSeconds <= 0) {\r\n                        this.countDownSeconds = 0;\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.countDownSeconds == 0) {\r\n                if (this.playStatus == 0)//blue win\r\n                {\r\n                    this.GameStatus = 2;\r\n                    Global.GameData.CurrentWinner = 1;\r\n                    this.GameResultNode.active = true;\r\n                }\r\n                else {\r\n                    this.GameStatus = 2;\r\n                    Global.GameData.CurrentWinner = 0;\r\n                    this.GameResultNode.active = true;\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n});\r\n"]}