{"version":3,"sources":["Game1Control.js"],"names":["DragMove","require","cc","Class","extends","Component","properties","RedPlayer","default","type","Node","BluePlayer","GameStatus","BallSpriteWhenRed","SpriteFrame","BallSpriteWhenBlue","GameResultNode","CountDownNode","PauseNode","Ball","onLoad","director","getPhysicsManager","enabled","start","startAnimation","scheduleOnce","active","getComponent","RigidBody","linearVelocity","Vec2","angularVelocity","onBallHit","hitTarget","log","toString","Sprite","spriteFrame","Global","GameData","CurrentWinner"],"mappings":"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","file":"Game1Control.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Scripts\\Control\\Games\\Game1","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar DragMove = require(\"Game1DragMove\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        RedPlayer:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        BluePlayer:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        GameStatus: 0,//0未开始，1开始了，2结束了\r\n        BallSpriteWhenRed:\r\n        {\r\n            default: null,\r\n            type: cc.SpriteFrame,\r\n        },\r\n        BallSpriteWhenBlue:\r\n        {\r\n            default: null,\r\n            type: cc.SpriteFrame,\r\n        },\r\n\r\n        GameResultNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        CountDownNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        PauseNode:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        Ball:\r\n        {\r\n            default: null,\r\n            type: cc.Node,\r\n        }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    onLoad() {\r\n        cc.director.getPhysicsManager().enabled = true;\r\n\r\n    },\r\n\r\n    start() {\r\n        this.startAnimation();\r\n    },\r\n\r\n    startAnimation() {\r\n        this.scheduleOnce(function () {\r\n            this.CountDownNode.active = true;\r\n        }, 0.5)\r\n        this.scheduleOnce(function () {\r\n            this.RedPlayer.getComponent(DragMove).enabled = true;\r\n            this.BluePlayer.getComponent(DragMove).enabled = true;\r\n            this.GameStatus = 1;\r\n            this.PauseNode.active = true;\r\n            this.Ball.getComponent(cc.RigidBody).linearVelocity = new cc.Vec2(2, 500);\r\n            this.Ball.getComponent(cc.RigidBody).angularVelocity = 5;\r\n        }, 3.5);\r\n\r\n    },\r\n\r\n    onBallHit(hitTarget) {\r\n\r\n        cc.log(\"Game Control Detect Hit:\" + hitTarget.toString());\r\n        if (hitTarget == \"RedPlayer\") {\r\n            this.Ball.getComponent(cc.Sprite).spriteFrame = this.BallSpriteWhenRed;\r\n        }\r\n        else if (hitTarget == \"BluePlayer\") {\r\n            this.Ball.getComponent(cc.Sprite).spriteFrame = this.BallSpriteWhenBlue;\r\n        }\r\n        else if (hitTarget == \"Top\") {\r\n            //Red win\r\n            cc.log(\"Red Win\");\r\n            this.GameStatus = 2;\r\n            this.RedPlayer.getComponent(DragMove).enabled = false;\r\n            this.BluePlayer.getComponent(DragMove).enabled = false;\r\n            this.scheduleOnce(function () {\r\n\r\n                Global.GameData.CurrentWinner = 0;\r\n                this.GameResultNode.active = true;\r\n            }, 0.5);\r\n        }\r\n        else if (hitTarget == \"Bottom\") {\r\n            //Blue win\r\n            cc.log(\"Blue Win\");\r\n            this.GameStatus = 2;\r\n            this.RedPlayer.getComponent(DragMove).enabled = false;\r\n            this.BluePlayer.getComponent(DragMove).enabled = false;\r\n            this.scheduleOnce(function () {\r\n\r\n                Global.GameData.CurrentWinner = 1;\r\n                this.GameResultNode.active = true;\r\n            }, 0.5);\r\n        }\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}